(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31b550e5"],{"48f8":function(t,e,a){"use strict";a("493a")},"493a":function(t,e,a){},"50fc":function(t,e,a){"use strict";a.d(e,"t",(function(){return s})),a.d(e,"g",(function(){return r})),a.d(e,"I",(function(){return l})),a.d(e,"D",(function(){return o})),a.d(e,"x",(function(){return u})),a.d(e,"b",(function(){return d})),a.d(e,"s",(function(){return c})),a.d(e,"h",(function(){return m})),a.d(e,"J",(function(){return p})),a.d(e,"d",(function(){return _})),a.d(e,"k",(function(){return f})),a.d(e,"w",(function(){return g})),a.d(e,"u",(function(){return h})),a.d(e,"y",(function(){return b})),a.d(e,"v",(function(){return v})),a.d(e,"A",(function(){return w})),a.d(e,"E",(function(){return y})),a.d(e,"l",(function(){return k})),a.d(e,"e",(function(){return x})),a.d(e,"F",(function(){return S})),a.d(e,"B",(function(){return F})),a.d(e,"z",(function(){return R})),a.d(e,"q",(function(){return $})),a.d(e,"r",(function(){return z})),a.d(e,"f",(function(){return D})),a.d(e,"H",(function(){return N})),a.d(e,"j",(function(){return C})),a.d(e,"C",(function(){return T})),a.d(e,"m",(function(){return I})),a.d(e,"G",(function(){return U})),a.d(e,"i",(function(){return V})),a.d(e,"n",(function(){return B})),a.d(e,"a",(function(){return E})),a.d(e,"c",(function(){return L})),a.d(e,"o",(function(){return O}));var i=a("bc3a"),n=a.n(i);function s(t={}){return n.a.get("/tenants",{params:t})}function r(t){return n.a.post("/tenants",t)}function l(t,e){return n.a.put("/tenants/"+t,e)}function o(t){return n.a.patch(`/tenants/${t}/toggle`)}function u(t,e){return n.a.post(`/tenants/${t}/recharge`,e)}function d(t,e){return n.a.post(`/tenants/${t}/assign-plan`,{plan_id:e})}function c(t,e={}){return n.a.get(`/tenants/${t}/tenant-strategies`,{params:e})}function m(t,e){return n.a.post(`/tenants/${t}/tenant-strategies`,e)}function p(t,e,a){return n.a.put(`/tenants/${t}/tenant-strategies/${e}`,a)}function _(t,e){return n.a.post(`/tenants/${t}/tenant-strategies/${e}/copy-from-master`)}function f(t,e){return n.a.delete(`/tenants/${t}/tenant-strategies/${e}`)}function g(t={}){return n.a.get("/users",{params:t})}function h(t){return n.a.get("/users/"+t)}function b(t,e){return n.a.post(`/users/${t}/recharge`,e)}function v(t,e={}){return n.a.get(`/users/${t}/team`,{params:e})}function w(t,e){return n.a.post(`/users/${t}/set-market-node`,e)}function y(t,e){return n.a.post(`/users/${t}/toggle-status`,{status:e})}function k(t={}){return n.a.get("/admins",{params:t})}function x(t){return n.a.post("/admins",t)}function S(t,e){return n.a.put("/admins/"+t,e)}function F(t){return n.a.patch(`/admins/${t}/toggle`)}function R(t,e){return n.a.post(`/admins/${t}/reset-password`,e)}function $(t={}){return n.a.get("/strategies",{params:t})}function z(t){return n.a.get("/strategies/"+t)}function D(t){return n.a.post("/strategies",t)}function N(t,e){return n.a.post("/strategies/"+t,e)}function C(t){return n.a.delete("/strategies/"+t)}function T(t){return n.a.patch(`/strategies/${t}/toggle`)}function I(t={}){return n.a.get("/strategy-bindings-admin",{params:t})}function U(t,e){return n.a.put("/strategy-bindings-admin/"+t,e)}function V(t){return n.a.delete("/strategy-bindings-admin/"+t)}function B(t={}){return n.a.get("/exchange-accounts",{params:t})}function E(t,e){return n.a.put(`/exchange-accounts/${t}/assign-node`,e)}function L(t){return n.a.post("/exchange-accounts/batch-assign-node",t)}function O(t={}){return n.a.get("/signal-events",{params:t})}},"7a00":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ele-body"},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"toolbar"},[a("span",{staticClass:"toolbar-title"},[t._v("策略绑定")]),a("el-button",{attrs:{size:"small",icon:"el-icon-refresh",loading:t.loading},on:{click:t.fetchData}},[t._v("刷新")])],1),a("div",{staticClass:"search-bar"},[a("el-form",{attrs:{inline:!0,size:"small"}},[a("el-form-item",{attrs:{label:"租户ID"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"租户ID",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch.apply(null,arguments)}},model:{value:t.where.tenant_id,callback:function(e){t.$set(t.where,"tenant_id",t._n(e))},expression:"where.tenant_id"}})],1),a("el-form-item",{attrs:{label:"用户ID"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"用户ID",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch.apply(null,arguments)}},model:{value:t.where.user_id,callback:function(e){t.$set(t.where,"user_id",t._n(e))},expression:"where.user_id"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"全部",clearable:""},model:{value:t.where.status,callback:function(e){t.$set(t.where,"status",e)},expression:"where.status"}},[a("el-option",{attrs:{label:"运行",value:1}}),a("el-option",{attrs:{label:"停止",value:0}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询")]),a("el-button",{attrs:{icon:"el-icon-refresh-left"},on:{click:t.resetSearch}},[t._v("重置")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"12px"},attrs:{data:t.list,stripe:"",border:"",size:"small","header-cell-style":{background:"#fafafa"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",align:"center"}}),a("el-table-column",{attrs:{prop:"tenant_name",label:"租户",width:"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"user_email",label:"用户","min-width":"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"strategy_name",label:"策略",width:"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"交易所",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{size:"mini",effect:"plain"}},[t._v(t._s((i.exchange||"").toUpperCase()))])]}}])}),a("el-table-column",{attrs:{prop:"exchange_account_label",label:"交易所账户",width:"140","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"mode",label:"执行模式",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:2===i.mode?"warning":"info",size:"mini"}},[t._v(t._s(2===i.mode?"循环":"单次"))])]}}])}),a("el-table-column",{attrs:{label:"跟单比例",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.ratio||100)+"%")])]}}])}),a("el-table-column",{attrs:{label:"本金",width:"90",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.capital>0?a("span",[t._v(t._s(t.formatNum(i.capital)))]):a("span",{staticStyle:{color:"#909399"}},[t._v("-")])]}}])}),a("el-table-column",{attrs:{label:"杠杆",width:"65",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.leverage||20)+"X")])]}}])}),a("el-table-column",{attrs:{label:"风险档位",width:"85",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:3===i.risk_mode?"danger":2===i.risk_mode?"warning":"success",size:"mini"}},[t._v(" "+t._s(i.risk_mode_label||"稳健")+" ")])]}}])}),a("el-table-column",{attrs:{label:"仓位模式",width:"130",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.risk_based_sizing?[a("el-tag",{attrs:{type:"warning",size:"mini"}},[t._v("以损定仓")]),a("div",{staticStyle:{"font-size":"11px",color:"#E6A23C"}},[t._v("最大亏损 "+t._s(t.formatMaxLoss(i))+"U")])]:[i.amount_usdt>0?a("span",[t._v(t._s(t.formatNum(i.amount_usdt))+" "),a("el-tooltip",{attrs:{content:"= 本金 × 风险比例 × 杠杆",placement:"top"}},[a("i",{staticClass:"el-icon-info",staticStyle:{color:"#c0c4cc","font-size":"12px","margin-left":"2px"}})])],1):a("span",{staticStyle:{color:"#909399"}},[t._v("-")])]]}}])}),a("el-table-column",{attrs:{label:"累计盈亏",width:"110",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{class:Number(i.total_profit||0)>=0?"text-success":"text-danger"},[t._v(" "+t._s(Number(i.total_profit||0)>=0?"+":"")+t._s(t.formatNum(i.total_profit))+" ")])]}}])}),a("el-table-column",{attrs:{label:"成交笔数",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.total_trades||0))])]}}])}),a("el-table-column",{attrs:{label:"点卡",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("div",{staticStyle:{"font-size":"12px"}},[t._v("自充: "+t._s(t.formatNum(i.point_card_self)))]),a("div",{staticStyle:{"font-size":"12px",color:"#909399"}},[t._v("赠送: "+t._s(t.formatNum(i.point_card_gift)))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:1===i.status?"success":"info",size:"mini",effect:"dark"}},[t._v(t._s(1===i.status?"运行":"停止"))])]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:"绑定时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatTime(a.created_at)))]}}])}),a("el-table-column",{attrs:{label:"操作",width:"130",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-view"},on:{click:function(e){return t.showDetail(i)}}},[t._v("详情")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.showEdit(i)}}},[t._v("编辑")]),0===i.status?a("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.handleDeleteBinding(i)}}},[t._v("删除")]):t._e()]}}])})],1),t.loading||0!==t.list.length?t._e():a("el-empty",{attrs:{description:"暂无策略绑定"}}),t.total>0?a("div",{staticStyle:{"margin-top":"12px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("span",{staticClass:"tip"},[t._v("共 "+t._s(t.total)+" 条")]),a("el-pagination",{attrs:{background:"","current-page":t.page,"page-size":t.pageSize,total:t.total,layout:"prev, pager, next"},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"current-change":t.fetchData}})],1):t._e()],1),a("el-dialog",{attrs:{title:"绑定详情",visible:t.detailVisible,width:"560px","append-to-body":""},on:{"update:visible":function(e){t.detailVisible=e}}},[t.detailRow?a("el-descriptions",{attrs:{column:1,border:"",size:"small"}},[a("el-descriptions-item",{attrs:{label:"绑定ID"}},[t._v(t._s(t.detailRow.id))]),a("el-descriptions-item",{attrs:{label:"租户"}},[t._v(t._s(t.detailRow.tenant_name||"-")+" (ID: "+t._s(t.detailRow.tenant_id||"-")+")")]),a("el-descriptions-item",{attrs:{label:"用户"}},[t._v(t._s(t.detailRow.user_email||"-")+" (ID: "+t._s(t.detailRow.user_id)+")")]),a("el-descriptions-item",{attrs:{label:"策略"}},[t._v(t._s(t.detailRow.strategy_name||t.detailRow.strategy_code)+" ("+t._s(t.detailRow.strategy_code)+")")]),a("el-descriptions-item",{attrs:{label:"交易所账户"}},[t._v(t._s(t.detailRow.exchange_account_label||"-")+" (账户ID: "+t._s(t.detailRow.account_id)+")")]),a("el-descriptions-item",{attrs:{label:"执行模式"}},[t._v(t._s(2===t.detailRow.mode?"循环执行":"单次执行"))]),a("el-descriptions-item",{attrs:{label:"跟单比例"}},[t._v(t._s(t.detailRow.ratio||100)+"%")]),a("el-descriptions-item",{attrs:{label:"本金"}},[t._v(t._s(t.detailRow.capital>0?t.formatNum(t.detailRow.capital)+" USDT":"未设置"))]),a("el-descriptions-item",{attrs:{label:"杠杆"}},[t._v(t._s(t.detailRow.leverage||20)+"X")]),a("el-descriptions-item",{attrs:{label:"风险档位"}},[t._v(t._s(t.detailRow.risk_mode_label||"稳健")+"（"+t._s(3===t.detailRow.risk_mode?"2%":2===t.detailRow.risk_mode?"1.5%":"1%")+"）")]),a("el-descriptions-item",{attrs:{label:"单笔保证金"}},[t._v(t._s(t.detailRow.margin_per_trade>0?t.formatNum(t.detailRow.margin_per_trade)+" USDT":"-"))]),a("el-descriptions-item",{attrs:{label:"仓位模式"}},[t.detailRow.risk_based_sizing?[a("el-tag",{attrs:{type:"warning",size:"small"}},[t._v("以损定仓")]),a("span",{staticStyle:{color:"#909399","font-size":"12px","margin-left":"4px"}},[t._v("每笔最大亏损 "+t._s(t.formatMaxLoss(t.detailRow))+" USDT，仓位按止损距离自动调整")])]:[t._v(" "+t._s(t.detailRow.amount_usdt>0?t.formatNum(t.detailRow.amount_usdt)+" USDT":"-")+" "),t.detailRow.amount_usdt>0?a("span",{staticStyle:{color:"#909399","font-size":"12px"}},[t._v(" (= 本金×风险×杠杆)")]):t._e()]],2),a("el-descriptions-item",{attrs:{label:"交易所"}},[t._v(t._s((t.detailRow.exchange||"").toUpperCase()))]),a("el-descriptions-item",{attrs:{label:"点卡（自充/赠送）"}},[t._v(t._s(t.formatNum(t.detailRow.point_card_self))+" / "+t._s(t.formatNum(t.detailRow.point_card_gift)))]),a("el-descriptions-item",{attrs:{label:"累计盈亏"}},[t._v(t._s(t.formatNum(t.detailRow.total_profit)))]),a("el-descriptions-item",{attrs:{label:"交易笔数"}},[t._v(t._s(t.detailRow.total_trades||0))]),a("el-descriptions-item",{attrs:{label:"状态"}},[a("el-tag",{attrs:{type:1===t.detailRow.status?"success":"info",size:"small"}},[t._v(t._s(1===t.detailRow.status?"运行":"停止"))])],1),a("el-descriptions-item",{attrs:{label:"绑定时间"}},[t._v(t._s(t.formatTime(t.detailRow.created_at)))])],1):t._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.detailVisible=!1}}},[t._v("关闭")]),a("el-button",{attrs:{type:"primary"},on:{click:t.goToUser}},[t._v("前往用户管理")])],1)],1),a("el-dialog",{attrs:{title:"编辑绑定参数",visible:t.editVisible,width:"480px","append-to-body":""},on:{"update:visible":function(e){t.editVisible=e}}},[t.editForm?a("el-form",{attrs:{"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"用户"}},[a("span",[t._v(t._s(t.editForm._user_email)+" (ID: "+t._s(t.editForm._user_id)+")")])]),a("el-form-item",{attrs:{label:"策略"}},[a("span",[t._v(t._s(t.editForm._strategy_name))])]),a("el-form-item",{attrs:{label:"本金 (USDT)"}},[a("el-input-number",{staticStyle:{width:"200px"},attrs:{min:0,step:100,precision:2},model:{value:t.editForm.capital,callback:function(e){t.$set(t.editForm,"capital",e)},expression:"editForm.capital"}})],1),a("el-form-item",{attrs:{label:"杠杆"}},[a("el-select",{staticStyle:{width:"200px"},model:{value:t.editForm.leverage,callback:function(e){t.$set(t.editForm,"leverage",e)},expression:"editForm.leverage"}},[a("el-option",{attrs:{label:"5X",value:5}}),a("el-option",{attrs:{label:"10X",value:10}}),a("el-option",{attrs:{label:"20X",value:20}}),a("el-option",{attrs:{label:"50X",value:50}}),a("el-option",{attrs:{label:"75X",value:75}}),a("el-option",{attrs:{label:"100X",value:100}})],1)],1),a("el-form-item",{attrs:{label:"风险档位"}},[a("el-radio-group",{model:{value:t.editForm.risk_mode,callback:function(e){t.$set(t.editForm,"risk_mode",e)},expression:"editForm.risk_mode"}},[a("el-radio-button",{attrs:{label:1}},[t._v("稳健 (1%)")]),a("el-radio-button",{attrs:{label:2}},[t._v("均衡 (1.5%)")]),a("el-radio-button",{attrs:{label:3}},[t._v("激进 (2%)")])],1)],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"运行","inactive-text":"停止"},model:{value:t.editForm.status,callback:function(e){t.$set(t.editForm,"status",e)},expression:"editForm.status"}})],1),a("el-form-item",{attrs:{label:"预估"}},[a("div",{staticClass:"preview-box"},[t.editForm&&t.editForm._risk_based_sizing?[a("div",[t._v("每笔最大亏损: "),a("b",{staticStyle:{color:"#E6A23C"}},[t._v(t._s(t.calcMaxLoss)+" USDT")]),a("el-tag",{staticStyle:{"margin-left":"4px"},attrs:{type:"warning",size:"mini"}},[t._v("以损定仓")])],1),a("div",{staticStyle:{color:"#909399","font-size":"12px"}},[t._v("= 本金 × "+t._s({1:"1%",2:"1.5%",3:"2%"}[t.editForm.risk_mode]||"1%")+"，实际仓位按止损距离自动调整")])]:[a("div",[t._v("单笔保证金: "),a("b",[t._v(t._s(t.calcMargin)+" USDT")])]),a("div",[t._v("单笔仓位: "),a("b",[t._v(t._s(t.calcAmount)+" USDT")])])]],2)])],1):t._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",loading:t.editLoading},on:{click:t.submitEdit}},[t._v("保存")])],1)],1)],1)},n=[],s=a("50fc");const r={1:.01,2:.015,3:.02};var l={name:"StrategyBindings",data(){return{loading:!1,list:[],total:0,page:1,pageSize:20,where:{tenant_id:null,user_id:null,status:null},detailVisible:!1,detailRow:null,editVisible:!1,editLoading:!1,editForm:null,editBindingId:null}},computed:{calcMargin(){if(!this.editForm||!this.editForm.capital)return"0.00";const t=r[this.editForm.risk_mode]||.01;return(this.editForm.capital*t).toFixed(2)},calcMaxLoss(){if(!this.editForm||!this.editForm.capital)return"0.00";const t=r[this.editForm.risk_mode]||.01;return(this.editForm.capital*t).toFixed(2)},calcAmount(){if(!this.editForm||!this.editForm.capital)return"0.00";const t=r[this.editForm.risk_mode]||.01;return(this.editForm.capital*t*(this.editForm.leverage||20)).toFixed(2)}},mounted(){this.fetchData()},methods:{formatNum(t){return null!==t&&void 0!==t?parseFloat(t).toFixed(2):"0.00"},formatMaxLoss(t){const e=Number(t.capital)||0,a=Number(t.risk_mode)||1,i=r[a]||.01;return(e*i).toFixed(2)},formatTime(t){return t?t.replace("T"," ").substring(0,19):"-"},onSearch(){this.page=1,this.fetchData()},resetSearch(){this.where={tenant_id:null,user_id:null,status:null},this.page=1,this.fetchData()},showDetail(t){this.detailRow=t,this.detailVisible=!0},showEdit(t){this.editBindingId=t.id,this.editForm={_user_email:t.user_email,_user_id:t.user_id,_strategy_name:t.strategy_name||t.strategy_code,_risk_based_sizing:!!t.risk_based_sizing,capital:t.capital||0,leverage:t.leverage||20,risk_mode:t.risk_mode||1,status:t.status},this.editVisible=!0},async submitEdit(){if(this.editBindingId){this.editLoading=!0;try{const t={};this.editForm.capital>0&&(t.capital=this.editForm.capital),this.editForm.leverage>0&&(t.leverage=this.editForm.leverage),this.editForm.risk_mode&&(t.risk_mode=this.editForm.risk_mode),t.status=this.editForm.status;const e=await Object(s["G"])(this.editBindingId,t),a=e.data;a.success?(this.$message.success(a.message||"修改成功"),this.editVisible=!1,this.fetchData()):this.$message.error(a.message||"修改失败")}catch(e){var t;this.$message.error((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"修改失败")}finally{this.editLoading=!1}}},goToUser(){this.detailRow&&this.detailRow.user_id&&(this.detailVisible=!1,this.$router.push({path:"/user/manage",query:{user_id:this.detailRow.user_id}}))},async handleDeleteBinding(t){try{await this.$confirm(`确定要删除绑定 #${t.id}（用户: ${t.user_email}，策略: ${t.strategy_name}）吗？`,"删除确认",{confirmButtonText:"确认删除",cancelButtonText:"取消",type:"error"})}catch{return}try{const e=await Object(s["i"])(t.id);e.data.success?(this.$message.success("删除成功"),this.fetchData()):this.$message.error(e.data.message||"删除失败")}catch(i){var e,a;this.$message.error((null===(e=i.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.message)||(null===(a=i.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.detail)||"删除失败")}},async fetchData(){this.loading=!0;try{const t={page:this.page,page_size:this.pageSize};null!=this.where.tenant_id&&""!==this.where.tenant_id&&(t.tenant_id=Number(this.where.tenant_id)),null!=this.where.user_id&&""!==this.where.user_id&&(t.user_id=Number(this.where.user_id)),null!==this.where.status&&""!==this.where.status&&(t.status=Number(this.where.status));const e=await Object(s["m"])(t),a=e.data;this.list=a.data||a||[],this.total=null!=a.total?a.total:this.list.length}catch(e){var t;this.$message.error((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.detail)||"获取策略绑定失败")}finally{this.loading=!1}}}},o=l,u=(a("48f8"),a("2877")),d=Object(u["a"])(o,i,n,!1,null,"24d84a69",null);e["default"]=d.exports}}]);