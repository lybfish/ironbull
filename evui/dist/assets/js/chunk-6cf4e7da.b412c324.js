(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cf4e7da"],{"075e":function(t,e,a){},"488b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ele-body"},[a("el-row",{staticStyle:{"margin-bottom":"15px"},attrs:{gutter:15}},[a("el-col",{attrs:{lg:6,md:12,sm:12}},[a("stat-card",{attrs:{title:"总用户数",value:t.stats.totalCount,icon:"el-icon-user",color:"primary","help-text":"系统中的用户总数",loading:t.statsLoading}})],1),a("el-col",{attrs:{lg:6,md:12,sm:12}},[a("stat-card",{attrs:{title:"今日新增",value:t.stats.todayCount,icon:"el-icon-user-solid",color:"success","help-text":"今日注册的用户数量",loading:t.statsLoading}})],1),a("el-col",{attrs:{lg:6,md:12,sm:12}},[a("stat-card",{attrs:{title:"活跃用户",value:t.stats.activeCount,icon:"el-icon-star-on",color:"warning","help-text":"状态为正常的用户数量",loading:t.statsLoading}})],1),a("el-col",{attrs:{lg:6,md:12,sm:12}},[a("stat-card",{attrs:{title:"总点卡余额",value:t.stats.totalPointCard,icon:"el-icon-bank-card",color:"danger",format:"money",precision:2,"help-text":"所有用户的点卡总余额（自充+赠送）",loading:t.statsLoading}})],1)],1),a("el-card",{attrs:{shadow:"never"}},[a("el-form",{staticClass:"search-form",attrs:{inline:!0,model:t.where,size:"small"}},[a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入邮箱",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reload.apply(null,arguments)}},model:{value:t.where.email,callback:function(e){t.$set(t.where,"email",e)},expression:"where.email"}})],1),a("el-form-item",{attrs:{label:"邀请码"}},[a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入邀请码",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reload.apply(null,arguments)}},model:{value:t.where.invite_code,callback:function(e){t.$set(t.where,"invite_code",e)},expression:"where.invite_code"}})],1),a("el-form-item",{attrs:{label:"邀请人ID"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入邀请人ID",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reload.apply(null,arguments)}},model:{value:t.where.inviter_id,callback:function(e){t.$set(t.where,"inviter_id",e)},expression:"where.inviter_id"}})],1),a("el-form-item",{attrs:{label:"自充点卡≥"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"最小值",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reload.apply(null,arguments)}},model:{value:t.where.point_card_self_min,callback:function(e){t.$set(t.where,"point_card_self_min",e)},expression:"where.point_card_self_min"}})],1),a("el-form-item",{attrs:{label:"赠送点卡≥"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"最小值",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reload.apply(null,arguments)}},model:{value:t.where.point_card_gift_min,callback:function(e){t.$set(t.where,"point_card_gift_min",e)},expression:"where.point_card_gift_min"}})],1),a("el-form-item",{attrs:{label:"租户"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"全部租户",clearable:"",filterable:""},model:{value:t.where.tenant_id,callback:function(e){t.$set(t.where,"tenant_id",e)},expression:"where.tenant_id"}},t._l(t.tenantList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.reload}},[t._v("查询")]),a("el-button",{on:{click:t.resetSearch}},[t._v("重置")])],1)],1),t.selectedUsers.length>0?a("div",{staticStyle:{"margin-bottom":"10px",display:"flex","align-items":"center",gap:"8px"}},[a("el-tag",{attrs:{type:"info",size:"small"}},[t._v("已选 "+t._s(t.selectedUsers.length)+" 个用户")]),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-check"},on:{click:function(e){return t.batchToggle(1)}}},[t._v("批量启用")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-close"},on:{click:function(e){return t.batchToggle(0)}}},[t._v("批量禁用")]),a("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-bank-card"},on:{click:function(e){t.batchRechargeVisible=!0}}},[t._v("批量充值")])],1):t._e(),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,stripe:"",border:"",size:"small","max-height":t.tableMaxHeight,"row-key":"id"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"45",fixed:"left"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center",fixed:"left"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"180","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"invite_code",label:"邀请码",width:"110",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"inviter_invite_code",label:"邀请人码",width:"110",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.inviter_invite_code?a("span",[t._v(t._s(i.inviter_invite_code))]):a("span",{staticStyle:{color:"#c0c4cc"}},[t._v("-")])]}}])}),a("el-table-column",{attrs:{prop:"inviter_id",label:"邀请人ID",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.inviter_id?a("span",[t._v(t._s(i.inviter_id))]):a("span",{staticStyle:{color:"#c0c4cc"}},[t._v("-")])]}}])}),a("el-table-column",{attrs:{label:"直推人数",width:"90",align:"center",prop:"team_direct_count"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(null!=a.team_direct_count?a.team_direct_count:"-"))]}}])}),a("el-table-column",{attrs:{label:"团队业绩",width:"110",align:"right",prop:"team_performance"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{staticClass:"money-cell"},[t._v(t._s(t.formatMoney(i.team_performance)))])]}}])}),a("el-table-column",{attrs:{label:"自充点卡",width:"110",align:"right",sortable:"",prop:"point_card_self"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{staticClass:"money-cell"},[t._v(t._s(t.formatMoney(i.point_card_self)))])]}}])}),a("el-table-column",{attrs:{label:"赠送点卡",width:"110",align:"right",sortable:"",prop:"point_card_gift"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{staticClass:"money-cell"},[t._v(t._s(t.formatMoney(i.point_card_gift)))])]}}])}),a("el-table-column",{attrs:{label:"累计奖励",width:"110",align:"right",prop:"total_reward"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{staticClass:"money-cell"},[t._v(t._s(t.formatMoney(i.total_reward)))])]}}])}),a("el-table-column",{attrs:{label:"根用户",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.is_root?a("el-tag",{attrs:{type:"danger",size:"mini"}},[t._v("ROOT")]):a("span",{staticStyle:{color:"#c0c4cc"}},[t._v("-")])]}}])}),a("el-table-column",{attrs:{label:"等级",width:"80",align:"center",prop:"member_level"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:t.levelTagType(i.member_level),size:"mini"}},[t._v(" "+t._s(t.levelName(i.member_level))+" ")])]}}])}),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(e){return t.handleStatusChange(i)}},model:{value:i.status,callback:function(e){t.$set(i,"status",e)},expression:"row.status"}})]}}])}),a("el-table-column",{attrs:{label:"注册时间",width:"160",align:"center",prop:"created_at",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t.formatDate(a.created_at))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"260",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(e){return t.openDetail(i)}}},[t._v("详情")]),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-coin"},on:{click:function(e){return t.openRecharge(i)}}},[t._v("充值")]),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-present"},on:{click:function(e){return t.openGift(i)}}},[t._v("赠送")]),a("el-button",{attrs:{type:"text",size:"small",icon:i.is_market_node?"el-icon-circle-close":"el-icon-place"},on:{click:function(e){return t.toggleMarketNode(i)}}},[t._v(" "+t._s(i.is_market_node?"取消节点":"设节点")+" ")])]}}])})],1),a("div",{staticClass:"pagination-wrap"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","current-page":t.page,"page-size":t.pageSize,"page-sizes":[15,30,50,100],total:t.total},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.reload,"current-change":t.fetchData}})],1)],1),a("el-dialog",{attrs:{title:"用户详情",visible:t.detailVisible,width:"900px","close-on-click-modal":!1,top:"5vh","destroy-on-close":""},on:{"update:visible":function(e){t.detailVisible=e}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}]},[t.detailData?[a("div",{staticClass:"section-title"},[t._v("基本信息")]),a("el-descriptions",{attrs:{column:3,border:"",size:"small"}},[a("el-descriptions-item",{attrs:{label:"用户ID"}},[t._v(t._s(t.detailData.id))]),a("el-descriptions-item",{attrs:{label:"租户ID"}},[t._v(t._s(t.detailData.tenant_id))]),a("el-descriptions-item",{attrs:{label:"邮箱"}},[t._v(t._s(t.detailData.email))]),a("el-descriptions-item",{attrs:{label:"邀请码"}},[t._v(t._s(t.detailData.invite_code||"-"))]),a("el-descriptions-item",{attrs:{label:"邀请人ID"}},[t._v(t._s(t.detailData.inviter_id||"-"))]),a("el-descriptions-item",{attrs:{label:"邀请人码"}},[t._v(t._s(t.detailData.inviter_invite_code||"-"))]),a("el-descriptions-item",{attrs:{label:"邀请人邮箱"}},[t._v(t._s(t.detailData.inviter_email||"-"))]),a("el-descriptions-item",{attrs:{label:"是否ROOT"}},[t.detailData.is_root?a("el-tag",{attrs:{type:"danger",size:"mini"}},[t._v("是")]):a("span",[t._v("否")])],1),a("el-descriptions-item",{attrs:{label:"会员等级"}},[a("el-tag",{attrs:{type:t.levelTagType(t.detailData.member_level),size:"mini"}},[t._v(" "+t._s(t.detailData.level_name||t.levelName(t.detailData.member_level))+" ")])],1),a("el-descriptions-item",{attrs:{label:"市场节点"}},[t.detailData.is_market_node?a("el-tag",{attrs:{type:"success",size:"mini"}},[t._v("是")]):a("span",[t._v("否")])],1),a("el-descriptions-item",{attrs:{label:"状态"}},[a("el-tag",{attrs:{type:1===t.detailData.status?"success":"info",size:"mini"}},[t._v(" "+t._s(1===t.detailData.status?"正常":"禁用")+" ")])],1),a("el-descriptions-item",{attrs:{label:"活跃策略"}},[t._v(t._s(t.detailData.active_strategies||0))]),a("el-descriptions-item",{attrs:{label:"注册时间"}},[t._v(t._s(t.formatDate(t.detailData.created_at)))])],1),a("div",{staticClass:"section-title",staticStyle:{"margin-top":"20px"}},[t._v("点卡与奖励")]),a("el-descriptions",{attrs:{column:3,border:"",size:"small"}},[a("el-descriptions-item",{attrs:{label:"自充点卡"}},[a("span",{staticClass:"money-value"},[t._v(t._s(t.formatMoney(t.detailData.point_card_self)))])]),a("el-descriptions-item",{attrs:{label:"赠送点卡"}},[a("span",{staticClass:"money-value"},[t._v(t._s(t.formatMoney(t.detailData.point_card_gift)))])]),a("el-descriptions-item",{attrs:{label:"点卡总计"}},[a("span",{staticClass:"money-value money-total"},[t._v(t._s(t.formatMoney(t.detailData.point_card_total)))])]),a("el-descriptions-item",{attrs:{label:"奖励余额(USDT)"}},[a("span",{staticClass:"money-value"},[t._v(t._s(t.formatMoney(t.detailData.reward_usdt)))])]),a("el-descriptions-item",{attrs:{label:"累计奖励"}},[a("span",{staticClass:"money-value"},[t._v(t._s(t.formatMoney(t.detailData.total_reward)))])]),a("el-descriptions-item",{attrs:{label:"已提现"}},[a("span",{staticClass:"money-value"},[t._v(t._s(t.formatMoney(t.detailData.withdrawn_reward)))])])],1),a("div",{staticClass:"section-title",staticStyle:{"margin-top":"20px"}},[t._v("团队信息")]),a("el-descriptions",{attrs:{column:3,border:"",size:"small"}},[a("el-descriptions-item",{attrs:{label:"直推人数"}},[t._v(t._s(t.detailData.team_direct_count||0))]),a("el-descriptions-item",{attrs:{label:"团队总人数"}},[t._v(t._s(t.detailData.team_total_count||0))]),a("el-descriptions-item",{attrs:{label:"团队业绩"}},[t._v(t._s(t.formatMoney(t.detailData.team_performance)))])],1),t.detailData.team_direct_count>0?a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-s-unfold"},on:{click:t.loadTeam}},[t._v(" "+t._s(t.teamList.length?"刷新直推列表":"查看直推列表")+" ")]),t.teamList.length?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.teamLoading,expression:"teamLoading"}],staticStyle:{"margin-top":"8px"},attrs:{data:t.teamList,size:"mini",border:"","max-height":"250"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"160","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"等级",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:t.levelTagType(i.member_level),size:"mini"}},[t._v(" "+t._s(i.level_name||t.levelName(i.member_level))+" ")])]}}],null,!1,3789848761)}),a("el-table-column",{attrs:{label:"市场节点",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.is_market_node?a("el-tag",{attrs:{type:"success",size:"mini"}},[t._v("是")]):a("span",[t._v("-")])]}}],null,!1,4144126815)}),a("el-table-column",{attrs:{label:"自充点卡",width:"100",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatMoney(a.point_card_self)))]}}],null,!1,2731998345)}),a("el-table-column",{attrs:{label:"赠送点卡",width:"100",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatMoney(a.point_card_gift)))]}}],null,!1,3745737929)}),a("el-table-column",{attrs:{label:"下级人数",width:"80",align:"center",prop:"sub_count"}}),a("el-table-column",{attrs:{label:"注册时间",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatDate(a.created_at)))]}}],null,!1,4243643267)})],1):t._e(),t.teamTotal>t.teamPageSize?a("el-pagination",{staticStyle:{"margin-top":"8px","text-align":"right"},attrs:{small:"",layout:"prev, pager, next","current-page":t.teamPage,"page-size":t.teamPageSize,total:t.teamTotal},on:{"update:currentPage":function(e){t.teamPage=e},"update:current-page":function(e){t.teamPage=e},"current-change":t.loadTeam}}):t._e()],1):t._e(),a("div",{staticClass:"section-title",staticStyle:{"margin-top":"20px"}},[t._v("交易所账户")]),t.detailData.accounts&&t.detailData.accounts.length?a("el-table",{attrs:{data:t.detailData.accounts,size:"mini",border:"","max-height":"200"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",align:"center"}}),a("el-table-column",{attrs:{label:"交易所",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(i.exchange))])]}}],null,!1,4193481423)}),a("el-table-column",{attrs:{label:"账户类型",width:"90",align:"center",prop:"account_type"}}),a("el-table-column",{attrs:{label:"余额",width:"120",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatMoney(a.balance)))]}}],null,!1,2689833067)}),a("el-table-column",{attrs:{label:"合约余额",width:"120",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatMoney(a.futures_balance)))]}}],null,!1,2798479234)}),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:1===i.status?"success":"info",size:"mini"}},[t._v(" "+t._s(1===i.status?"正常":"禁用")+" ")])]}}],null,!1,995696833)})],1):a("el-empty",{attrs:{description:"暂无交易所账户","image-size":60}}),a("div",{staticClass:"section-title",staticStyle:{"margin-top":"20px"}},[a("span",[t._v("当前持仓")]),a("el-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"text",size:"mini",icon:"el-icon-refresh"},on:{click:t.loadUserPositions}},[t._v("刷新")]),a("el-button",{staticStyle:{"margin-left":"4px"},attrs:{type:"text",size:"mini"},on:{click:t.goToPositions}},[t._v("查看全部 →")])],1),t.userPositions.length?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.userPosLoading,expression:"userPosLoading"}],attrs:{data:t.userPositions,size:"mini",border:"","row-class-name":t.posPnlRowClass,"max-height":"260"}},[a("el-table-column",{attrs:{label:"交易对",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(i.symbol))])]}}],null,!1,2359439849)}),a("el-table-column",{attrs:{label:"交易所",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{size:"mini",effect:"plain"}},[t._v(t._s((i.exchange||"").toUpperCase()))])]}}],null,!1,438625303)}),a("el-table-column",{attrs:{label:"方向",width:"60",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:"LONG"===(i.position_side||"").toUpperCase()?"success":"danger",size:"mini",effect:"dark"}},[t._v(" "+t._s("LONG"===(i.position_side||"").toUpperCase()?"多":"空")+" ")])]}}],null,!1,729195771)}),a("el-table-column",{attrs:{label:"数量",width:"100",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatNum(a.quantity)))]}}],null,!1,3938962576)}),a("el-table-column",{attrs:{label:"均价",width:"100",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatPrice(a.avg_cost)))]}}],null,!1,3123654484)}),a("el-table-column",{attrs:{label:"杠杆",width:"60",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(a.leverage||"-")+"x")]}}],null,!1,590367818)}),a("el-table-column",{attrs:{label:"未实现盈亏",width:"120",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{style:{color:Number(i.unrealized_pnl)>=0?"#67C23A":"#F56C6C",fontWeight:600}},[t._v(" "+t._s(Number(i.unrealized_pnl)>=0?"+":"")+t._s(t.formatMoney(i.unrealized_pnl))+" ")])]}}],null,!1,3168413088)}),a("el-table-column",{attrs:{label:"状态",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:"OPEN"===i.status?"success":"info",size:"mini"}},[t._v(t._s("OPEN"===i.status?"持仓":"已平"))])]}}],null,!1,1698581696)})],1):t._e(),t.userPosLoading||0!==t.userPositions.length?t._e():a("el-empty",{attrs:{description:"暂无持仓","image-size":50}}),a("div",{staticClass:"section-title",staticStyle:{"margin-top":"20px"}},[a("span",[t._v("最近订单")]),a("el-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"text",size:"mini",icon:"el-icon-refresh"},on:{click:t.loadUserOrders}},[t._v("刷新")]),a("el-button",{staticStyle:{"margin-left":"4px"},attrs:{type:"text",size:"mini"},on:{click:t.goToOrders}},[t._v("查看全部 →")])],1),t.userOrders.length?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.userOrderLoading,expression:"userOrderLoading"}],attrs:{data:t.userOrders,size:"mini",border:"","max-height":"280"}},[a("el-table-column",{attrs:{label:"交易对",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(i.symbol))])]}}],null,!1,2359439849)}),a("el-table-column",{attrs:{label:"交易所",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{size:"mini",effect:"plain"}},[t._v(t._s((i.exchange||"").toUpperCase()))])]}}],null,!1,438625303)}),a("el-table-column",{attrs:{label:"方向",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:"BUY"===(i.side||"").toUpperCase()?"success":"danger",size:"mini",effect:"dark"}},[t._v(" "+t._s("BUY"===(i.side||"").toUpperCase()?"买入":"卖出")+" ")])]}}],null,!1,1131044098)}),a("el-table-column",{attrs:{label:"开/平",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:"CLOSE"===(i.trade_type||"")?"warning":"",size:"mini",effect:"plain"}},[t._v(" "+t._s({OPEN:"开仓",CLOSE:"平仓",ADD:"加仓",REDUCE:"减仓"}[(i.trade_type||"OPEN").toUpperCase()]||"开仓")+" ")]),i.close_reason?a("div",{staticStyle:{"font-size":"10px","margin-top":"1px"}},[a("el-tag",{attrs:{type:"TP"===i.close_reason?"success":"danger",size:"mini",effect:"plain"}},[t._v(" "+t._s({SL:"止损",TP:"止盈",SIGNAL:"信号",MANUAL:"手动"}[(i.close_reason||"").toUpperCase()]||i.close_reason)+" ")])],1):t._e()]}}],null,!1,1220308446)}),a("el-table-column",{attrs:{label:"成交",width:"110",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t.formatNum(i.filled_quantity)))]),a("span",{staticStyle:{color:"#C0C4CC"}},[t._v(" / "+t._s(t.formatNum(i.quantity)))])]}}],null,!1,3516379262)}),a("el-table-column",{attrs:{label:"均价",width:"100",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatPrice(a.avg_price)))]}}],null,!1,4237015506)}),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:{FILLED:"success",CANCELLED:"info",REJECTED:"danger",PENDING:"warning",PARTIAL:"warning"}[(i.status||"").toUpperCase()]||"info",size:"mini"}},[t._v(" "+t._s({FILLED:"已成交",CANCELLED:"已取消",REJECTED:"已拒绝",PENDING:"待处理",PARTIAL:"部分成交"}[(i.status||"").toUpperCase()]||i.status)+" ")])]}}],null,!1,2016780956)}),a("el-table-column",{attrs:{label:"时间",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatDate(a.created_at)))]}}],null,!1,4243643267)})],1):t._e(),t.userOrderLoading||0!==t.userOrders.length?t._e():a("el-empty",{attrs:{description:"暂无订单","image-size":50}}),a("div",{staticClass:"section-title",staticStyle:{"margin-top":"20px"}},[t._v("奖励记录")]),a("el-button",{attrs:{type:"text",icon:"el-icon-list"},on:{click:t.loadRewards}},[t._v(" "+t._s(t.rewardList.length?"刷新奖励记录":"查看奖励记录")+" ")]),t.rewardList.length?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.rewardLoading,expression:"rewardLoading"}],staticStyle:{"margin-top":"8px"},attrs:{data:t.rewardList,size:"mini",border:"","max-height":"220"}},[a("el-table-column",{attrs:{prop:"reward_type_name",label:"类型",width:"90",align:"center"}}),a("el-table-column",{attrs:{prop:"amount",label:"金额(USDT)",width:"120",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatMoney(a.amount)))]}}],null,!1,837137985)}),a("el-table-column",{attrs:{prop:"rate",label:"比例",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(null!=a.rate?(100*a.rate).toFixed(2)+"%":"-"))]}}],null,!1,571127408)}),a("el-table-column",{attrs:{prop:"source_email",label:"来源用户","min-width":"140","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"100","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"created_at",label:"时间",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t.formatDate(a.created_at)))]}}],null,!1,4243643267)})],1):t._e(),t.rewardTotal>t.rewardPageSize?a("el-pagination",{staticStyle:{"margin-top":"8px","text-align":"right"},attrs:{small:"",layout:"prev, pager, next, total","current-page":t.rewardPage,"page-size":t.rewardPageSize,total:t.rewardTotal},on:{"update:currentPage":function(e){t.rewardPage=e},"update:current-page":function(e){t.rewardPage=e},"current-change":t.loadRewards}}):t._e(),t.rewardListLoaded&&0===t.rewardList.length?a("el-empty",{staticStyle:{"margin-top":"8px"},attrs:{description:"暂无奖励记录","image-size":50}}):t._e()]:t._e()],2),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.detailVisible=!1}}},[t._v("关闭")]),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-coin"},on:{click:t.openRechargeFromDetail}},[t._v("充值")]),a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-present"},on:{click:t.openGiftFromDetail}},[t._v("赠送")])],1)]),a("el-dialog",{attrs:{title:"用户充值",visible:t.rechargeVisible,width:"440px","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.rechargeVisible=e}}},[a("el-form",{attrs:{model:t.rechargeForm,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"用户ID"}},[a("el-input",{attrs:{value:t.rechargeForm.userId,disabled:""}})],1),a("el-form-item",{attrs:{label:"用户邮箱"}},[a("el-input",{attrs:{value:t.rechargeForm.email,disabled:""}})],1),a("el-form-item",{attrs:{label:"当前自充点卡"}},[a("el-input",{attrs:{value:t.formatMoney(t.rechargeForm.currentSelf),disabled:""}})],1),a("el-form-item",{attrs:{label:"充值金额",required:""}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:.01,precision:2,step:10,placeholder:"请输入金额"},model:{value:t.rechargeForm.amount,callback:function(e){t.$set(t.rechargeForm,"amount",e)},expression:"rechargeForm.amount"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.rechargeVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"small",loading:t.rechargeLoading},on:{click:t.submitRecharge}},[t._v("确认充值")])],1)],1),a("el-dialog",{attrs:{title:"赠送点卡",visible:t.giftVisible,width:"440px","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.giftVisible=e}}},[a("el-form",{attrs:{model:t.giftForm,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"用户ID"}},[a("el-input",{attrs:{value:t.giftForm.userId,disabled:""}})],1),a("el-form-item",{attrs:{label:"用户邮箱"}},[a("el-input",{attrs:{value:t.giftForm.email,disabled:""}})],1),a("el-form-item",{attrs:{label:"当前赠送点卡"}},[a("el-input",{attrs:{value:t.formatMoney(t.giftForm.currentGift),disabled:""}})],1),a("el-form-item",{attrs:{label:"赠送数量",required:""}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:.01,precision:2,step:10,placeholder:"请输入数量"},model:{value:t.giftForm.amount,callback:function(e){t.$set(t.giftForm,"amount",e)},expression:"giftForm.amount"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.giftVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"success",size:"small",loading:t.giftLoading},on:{click:t.submitGift}},[t._v("确认赠送")])],1)],1),a("el-dialog",{attrs:{title:"批量充值",visible:t.batchRechargeVisible,width:"400px","append-to-body":""},on:{"update:visible":function(e){t.batchRechargeVisible=e}}},[a("el-form",{attrs:{"label-width":"90px",size:"small"}},[a("el-form-item",{attrs:{label:"充值金额"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,max:1e5},model:{value:t.batchRechargeForm.amount,callback:function(e){t.$set(t.batchRechargeForm,"amount",e)},expression:"batchRechargeForm.amount"}})],1),a("el-form-item",{attrs:{label:"充值类型"}},[a("el-radio-group",{model:{value:t.batchRechargeForm.card_type,callback:function(e){t.$set(t.batchRechargeForm,"card_type",e)},expression:"batchRechargeForm.card_type"}},[a("el-radio",{attrs:{label:"self"}},[t._v("自充点卡")]),a("el-radio",{attrs:{label:"gift"}},[t._v("赠送点卡")])],1)],1),a("el-form-item",[a("el-tag",{attrs:{type:"info",size:"small"}},[t._v("将为 "+t._s(t.selectedUsers.length)+" 个用户充值")])],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.batchRechargeVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"small",loading:t.batchRechargeLoading},on:{click:t.submitBatchRecharge}},[t._v("确认充值")])],1)],1)],1)},n=[],r=(a("13d5"),a("e9c4"),a("0643"),a("2382"),a("a573"),a("9d4a"),a("50fc")),s=a("cd05"),l=a("8012"),o=a("7cf8");const c={0:"普通",1:"V1",2:"V2",3:"V3",4:"V4",5:"V5"};var u={name:"UserManage",data(){return{loading:!1,list:[],total:0,page:1,pageSize:15,where:{email:"",invite_code:"",inviter_id:"",point_card_self_min:"",point_card_gift_min:"",tenant_id:""},stats:{totalCount:0,todayCount:0,activeCount:0,totalPointCard:0},statsLoading:!1,tenantList:[],detailVisible:!1,detailLoading:!1,detailData:null,teamList:[],teamLoading:!1,teamPage:1,teamPageSize:10,teamTotal:0,rewardList:[],rewardLoading:!1,rewardListLoaded:!1,rewardPage:1,rewardPageSize:10,rewardTotal:0,userPositions:[],userPosLoading:!1,userOrders:[],userOrderLoading:!1,rechargeVisible:!1,rechargeLoading:!1,rechargeForm:{userId:"",email:"",currentSelf:0,amount:0},giftVisible:!1,giftLoading:!1,giftForm:{userId:"",email:"",currentGift:0,amount:0},selectedUsers:[],batchRechargeVisible:!1,batchRechargeLoading:!1,batchRechargeForm:{amount:100,card_type:"self"},tableMaxHeight:520}},created(){this.loadTenants(),this.fetchData(),this.loadStats()},mounted(){this.calcTableHeight(),window.addEventListener("resize",this.calcTableHeight)},beforeDestroy(){window.removeEventListener("resize",this.calcTableHeight)},methods:{async fetchData(){this.loading=!0;try{const t={page:this.page,page_size:this.pageSize};this.where.email&&(t.email=this.where.email),this.where.invite_code&&(t.invite_code=this.where.invite_code),this.where.inviter_id&&(t.inviter_id=this.where.inviter_id),this.where.point_card_self_min&&(t.point_card_self_min=this.where.point_card_self_min),this.where.point_card_gift_min&&(t.point_card_gift_min=this.where.point_card_gift_min),this.where.tenant_id&&(t.tenant_id=this.where.tenant_id);const e=await Object(r["v"])(t),a=e.data;a.success?(this.list=a.data||[],this.total=a.total||0):this.$message.error(a.message||"获取用户列表失败")}catch(t){this.$message.error("获取用户列表失败")}finally{this.loading=!1}},reload(){this.page=1,this.fetchData(),this.loadStats()},resetSearch(){this.where={email:"",invite_code:"",inviter_id:"",point_card_self_min:"",point_card_gift_min:"",tenant_id:""},this.reload()},async loadStats(){this.statsLoading=!0;try{const t=await Object(r["v"])({page:1,page_size:9999}),e=t.data;if(e.success){const t=e.data||[],a=(new Date).toISOString().slice(0,10);this.stats={totalCount:e.total||t.length,todayCount:t.filter(t=>(t.created_at||"").slice(0,10)===a).length,activeCount:t.filter(t=>1===t.status).length,totalPointCard:t.reduce((t,e)=>t+(parseFloat(e.point_card_self)||0)+(parseFloat(e.point_card_gift)||0),0)}}}catch(t){console.warn("加载统计失败",t)}finally{this.statsLoading=!1}},async loadTenants(){try{const t=await Object(r["s"])({page_size:200}),e=t.data;e.success&&(this.tenantList=e.data||[])}catch(t){console.warn("加载租户列表失败",t)}},async openDetail(t){this.detailVisible=!0,this.detailLoading=!0,this.detailData=null,this.teamList=[],this.teamPage=1,this.teamTotal=0,this.rewardList=[],this.rewardListLoaded=!1,this.rewardPage=1,this.rewardTotal=0,this.userPositions=[],this.userOrders=[];try{const e=await Object(r["t"])(t.id),a=e.data;a.success?(this.detailData=a.data,this.loadUserPositions(),this.loadUserOrders()):this.$message.error(a.message||a.detail||"获取详情失败")}catch(e){const t=e.response&&e.response.data,a=t&&(t.detail||t.message)||e.message||"获取详情失败";this.$message.error("string"===typeof a?a:JSON.stringify(a))}finally{this.detailLoading=!1}},async loadTeam(){if(this.detailData){this.teamLoading=!0;try{const t=await Object(r["u"])(this.detailData.id,{page:this.teamPage,page_size:this.teamPageSize}),e=t.data;e.success&&(this.teamList=e.data||[],this.teamTotal=e.total||0)}catch(t){this.$message.error("加载团队数据失败")}finally{this.teamLoading=!1}}},async loadRewards(){if(this.detailData){this.rewardLoading=!0,this.rewardListLoaded=!0;try{const t=await Object(s["h"])({user_id:this.detailData.id,page:this.rewardPage,page_size:this.rewardPageSize}),e=t.data;e.success&&(this.rewardList=e.data||[],this.rewardTotal=e.total||0)}catch(t){this.$message.error("加载奖励记录失败")}finally{this.rewardLoading=!1}}},_getUserAccountIds(){return this.detailData&&this.detailData.accounts?this.detailData.accounts.map(t=>t.id):[]},async loadUserPositions(){const t=this._getUserAccountIds();if(t.length){this.userPosLoading=!0;try{const e=[];for(const a of t){const t=await Object(l["h"])({account_id:a,has_position:!0}),i=t.data.data||[];e.push(...i)}this.userPositions=e.sort((t,e)=>new Date(e.updated_at||0)-new Date(t.updated_at||0))}catch(e){console.warn("加载用户持仓失败",e)}finally{this.userPosLoading=!1}}else this.userPositions=[]},async loadUserOrders(){const t=this._getUserAccountIds();if(t.length){this.userOrderLoading=!0;try{const e=[];for(const a of t){const t=await Object(l["e"])({account_id:a,limit:20}),i=t.data.data||[];e.push(...i)}this.userOrders=e.sort((t,e)=>new Date(e.created_at||0)-new Date(t.created_at||0)).slice(0,20)}catch(e){console.warn("加载用户订单失败",e)}finally{this.userOrderLoading=!1}}else this.userOrders=[]},goToPositions(){if(!this.detailData)return;const t=this._getUserAccountIds();t.length?this.$router.push({path:"/trading/positions",query:{account_id:t[0]}}):this.$router.push({path:"/trading/positions"})},goToOrders(){if(!this.detailData)return;const t=this._getUserAccountIds();t.length?this.$router.push({path:"/trading/orders",query:{account_id:t[0]}}):this.$router.push({path:"/trading/orders"})},posPnlRowClass({row:t}){const e=Number(t.unrealized_pnl);return isNaN(e)?"":e>0?"row-profit":e<0?"row-loss":""},formatNum(t){if(null===t||void 0===t||""===t)return"-";const e=Number(t);return isNaN(e)?t:e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:6})},formatPrice(t){if(null==t||""===t||0===t)return"-";const e=Number(t);return isNaN(e)?t:e>=1e3?e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):e>=1?e.toLocaleString("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}):e.toLocaleString("en-US",{minimumFractionDigits:6,maximumFractionDigits:8})},async handleStatusChange(t){try{await Object(r["D"])(t.id,t.status),this.$message.success(`用户 ${t.id} 已${1===t.status?"启用":"禁用"}`)}catch(e){this.$message.error("状态切换失败"),t.status=1===t.status?0:1}},async toggleMarketNode(t){const e=t.is_market_node?0:1,a=e?"设置为市场节点":"取消市场节点";try{await this.$confirm(`确定要将用户 ${t.email} ${a}吗？`,"提示",{type:"warning"})}catch(n){return}const i=this.$loading({lock:!0,text:"处理中..."});try{const n=await Object(r["z"])(t.id,{is_node:e}),s=n.data;s.success?(this.$message.success(s.message||a+"成功"),t.is_market_node=e):this.$message.error(s.message||a+"失败")}catch(n){this.$message.error(a+"失败")}finally{i.close()}},openRecharge(t){this.rechargeForm={userId:t.id,email:t.email,currentSelf:t.point_card_self||0,amount:0},this.rechargeVisible=!0},openRechargeFromDetail(){this.detailData&&(this.rechargeForm={userId:this.detailData.id,email:this.detailData.email,currentSelf:this.detailData.point_card_self||0,amount:0},this.rechargeVisible=!0)},async submitRecharge(){if(!this.rechargeForm.amount||this.rechargeForm.amount<=0)this.$message.warning("请输入有效金额");else{this.rechargeLoading=!0;try{const t=await Object(r["x"])(this.rechargeForm.userId,{amount:this.rechargeForm.amount,card_type:"self"}),e=t.data;e.success?(this.$message.success(e.message||"充值成功"),this.rechargeVisible=!1,this.fetchData(),this.loadStats(),this.detailVisible&&this.detailData&&this.detailData.id===this.rechargeForm.userId&&this.openDetail({id:this.rechargeForm.userId})):this.$message.error(e.message||e.detail||"充值失败")}catch(t){const e=t.response&&t.response.data&&(t.response.data.detail||t.response.data.message)||"充值失败";this.$message.error(e)}finally{this.rechargeLoading=!1}}},openGift(t){this.giftForm={userId:t.id,email:t.email,currentGift:t.point_card_gift||0,amount:0},this.giftVisible=!0},openGiftFromDetail(){this.detailData&&(this.giftForm={userId:this.detailData.id,email:this.detailData.email,currentGift:this.detailData.point_card_gift||0,amount:0},this.giftVisible=!0)},async submitGift(){if(!this.giftForm.amount||this.giftForm.amount<=0)this.$message.warning("请输入有效数量");else{this.giftLoading=!0;try{const t=await Object(r["x"])(this.giftForm.userId,{amount:this.giftForm.amount,card_type:"gift"}),e=t.data;e.success?(this.$message.success(e.message||"赠送成功"),this.giftVisible=!1,this.fetchData(),this.loadStats(),this.detailVisible&&this.detailData&&this.detailData.id===this.giftForm.userId&&this.openDetail({id:this.giftForm.userId})):this.$message.error(e.message||e.detail||"赠送失败")}catch(t){const e=t.response&&t.response.data&&(t.response.data.detail||t.response.data.message)||"赠送失败";this.$message.error(e)}finally{this.giftLoading=!1}}},formatMoney(t){const e=parseFloat(t);return isNaN(e)?"0.00":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},formatDate(t){return t?"string"===typeof t?t.replace("T"," ").slice(0,19):t:"-"},levelName(t){return c[t]||"V"+t},levelTagType(t){return t&&0!==t?t>=4?"danger":t>=2?"warning":"":"info"},calcTableHeight(){this.$nextTick(()=>{this.tableMaxHeight=Math.max(300,window.innerHeight-380)})},handleSelectionChange(t){this.selectedUsers=t},async batchToggle(t){const e=1===t?"启用":"禁用";try{await this.$confirm(`确认批量${e} ${this.selectedUsers.length} 个用户？`,"批量操作",{type:"warning"})}catch{return}try{const e=this.selectedUsers.map(t=>t.id),a=await Object(o["b"])({user_ids:e,status:t});this.$message.success(a.data&&a.data.message||"操作成功"),this.fetchData(),this.loadStats()}catch(a){this.$message.error("批量操作失败")}},async submitBatchRecharge(){if(!this.batchRechargeForm.amount||this.batchRechargeForm.amount<=0)return this.$message.warning("请输入有效金额");this.batchRechargeLoading=!0;try{const t=this.selectedUsers.map(t=>t.id),e=await Object(o["a"])({user_ids:t,amount:this.batchRechargeForm.amount,card_type:this.batchRechargeForm.card_type});this.$message.success(e.data&&e.data.message||"充值完成"),this.batchRechargeVisible=!1,this.fetchData(),this.loadStats()}catch(t){this.$message.error("批量充值失败")}finally{this.batchRechargeLoading=!1}}}},d=u,m=(a("d069"),a("2877")),p=Object(m["a"])(d,i,n,!1,null,"208dc344",null);e["default"]=p.exports},"50fc":function(t,e,a){"use strict";a.d(e,"s",(function(){return r})),a.d(e,"g",(function(){return s})),a.d(e,"H",(function(){return l})),a.d(e,"C",(function(){return o})),a.d(e,"w",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"r",(function(){return d})),a.d(e,"h",(function(){return m})),a.d(e,"I",(function(){return p})),a.d(e,"d",(function(){return g})),a.d(e,"k",(function(){return f})),a.d(e,"v",(function(){return h})),a.d(e,"t",(function(){return _})),a.d(e,"x",(function(){return b})),a.d(e,"u",(function(){return v})),a.d(e,"z",(function(){return y})),a.d(e,"D",(function(){return w})),a.d(e,"l",(function(){return k})),a.d(e,"e",(function(){return S})),a.d(e,"E",(function(){return D})),a.d(e,"A",(function(){return x})),a.d(e,"y",(function(){return L})),a.d(e,"p",(function(){return z})),a.d(e,"q",(function(){return $})),a.d(e,"f",(function(){return C})),a.d(e,"G",(function(){return F})),a.d(e,"j",(function(){return P})),a.d(e,"B",(function(){return O})),a.d(e,"m",(function(){return T})),a.d(e,"F",(function(){return N})),a.d(e,"i",(function(){return I})),a.d(e,"n",(function(){return R})),a.d(e,"a",(function(){return U})),a.d(e,"c",(function(){return V})),a.d(e,"o",(function(){return E}));var i=a("bc3a"),n=a.n(i);function r(t={}){return n.a.get("/tenants",{params:t})}function s(t){return n.a.post("/tenants",t)}function l(t,e){return n.a.put("/tenants/"+t,e)}function o(t){return n.a.patch(`/tenants/${t}/toggle`)}function c(t,e){return n.a.post(`/tenants/${t}/recharge`,e)}function u(t,e){return n.a.post(`/tenants/${t}/assign-plan`,{plan_id:e})}function d(t,e={}){return n.a.get(`/tenants/${t}/tenant-strategies`,{params:e})}function m(t,e){return n.a.post(`/tenants/${t}/tenant-strategies`,e)}function p(t,e,a){return n.a.put(`/tenants/${t}/tenant-strategies/${e}`,a)}function g(t,e){return n.a.post(`/tenants/${t}/tenant-strategies/${e}/copy-from-master`)}function f(t,e){return n.a.delete(`/tenants/${t}/tenant-strategies/${e}`)}function h(t={}){return n.a.get("/users",{params:t})}function _(t){return n.a.get("/users/"+t)}function b(t,e){return n.a.post(`/users/${t}/recharge`,e)}function v(t,e={}){return n.a.get(`/users/${t}/team`,{params:e})}function y(t,e){return n.a.post(`/users/${t}/set-market-node`,e)}function w(t,e){return n.a.post(`/users/${t}/toggle-status`,{status:e})}function k(t={}){return n.a.get("/admins",{params:t})}function S(t){return n.a.post("/admins",t)}function D(t,e){return n.a.put("/admins/"+t,e)}function x(t){return n.a.patch(`/admins/${t}/toggle`)}function L(t,e){return n.a.post(`/admins/${t}/reset-password`,e)}function z(t={}){return n.a.get("/strategies",{params:t})}function $(t){return n.a.get("/strategies/"+t)}function C(t){return n.a.post("/strategies",t)}function F(t,e){return n.a.post("/strategies/"+t,e)}function P(t){return n.a.delete("/strategies/"+t)}function O(t){return n.a.patch(`/strategies/${t}/toggle`)}function T(t={}){return n.a.get("/strategy-bindings-admin",{params:t})}function N(t,e){return n.a.put("/strategy-bindings-admin/"+t,e)}function I(t){return n.a.delete("/strategy-bindings-admin/"+t)}function R(t={}){return n.a.get("/exchange-accounts",{params:t})}function U(t,e){return n.a.put(`/exchange-accounts/${t}/assign-node`,e)}function V(t){return n.a.post("/exchange-accounts/batch-assign-node",t)}function E(t={}){return n.a.get("/signal-events",{params:t})}},"7cf8":function(t,e,a){"use strict";a.d(e,"g",(function(){return r})),a.d(e,"f",(function(){return s})),a.d(e,"e",(function(){return l})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return c})),a.d(e,"j",(function(){return u})),a.d(e,"l",(function(){return d})),a.d(e,"k",(function(){return m})),a.d(e,"b",(function(){return p})),a.d(e,"a",(function(){return g})),a.d(e,"h",(function(){return f})),a.d(e,"m",(function(){return h})),a.d(e,"i",(function(){return _}));var i=a("bc3a"),n=a.n(i);function r(){return n.a.get("/monitor/status")}function s(t=7){return n.a.get("/monitor/metrics",{params:{days:t}})}function l(t={}){return n.a.get("/audit-logs",{params:t})}function o(t={}){return n.a.get("/audit-logs/export",{params:t,responseType:"blob"})}function c(t=30){return n.a.get("/audit-logs/stats",{params:{days:t}})}function u(t=30){return n.a.get("/user-analytics/overview",{params:{days:t}})}function d(t={}){return n.a.get("/user-analytics/ranking",{params:t})}function m(t=30){return n.a.get("/user-analytics/growth",{params:{days:t}})}function p(t){return n.a.post("/batch/toggle-users",t)}function g(t){return n.a.post("/batch/recharge-users",t)}function f(){return n.a.get("/risk/rules")}function h(t){return n.a.put("/risk/rules",t)}function _(t=7){return n.a.get("/risk/violations",{params:{days:t}})}},8012:function(t,e,a){"use strict";a.d(e,"e",(function(){return l})),a.d(e,"d",(function(){return o})),a.d(e,"h",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"i",(function(){return d})),a.d(e,"j",(function(){return m})),a.d(e,"b",(function(){return p})),a.d(e,"g",(function(){return g})),a.d(e,"f",(function(){return f})),a.d(e,"a",(function(){return h}));var i=a("bc3a"),n=a.n(i);let r={tenant_id:parseInt(localStorage.getItem("ironbull_tenant_id"))||1};function s(t){return{...r,...t}}function l(t={}){return n.a.get("/orders",{params:s({limit:50,...t})})}function o(t={}){return n.a.get("/fills",{params:s({limit:50,...t})})}function c(t={}){return n.a.get("/positions",{params:s({limit:100,...t})})}function u(t={}){return n.a.get("/accounts",{params:s({limit:50,...t})})}function d(t={}){return n.a.get("/transactions",{params:s({limit:50,...t})})}function m(t){return n.a.post("/manual-order",t)}function p(t){return n.a.post("/close-position",t)}function g(t={}){return n.a.get("/pending-limit-orders",{params:s(t)})}function f(t={}){return n.a.get("/pending-limit-orders/stats",{params:s(t)})}function h(t){return n.a.post(`/pending-limit-orders/${t}/cancel`)}},cd05:function(t,e,a){"use strict";a.d(e,"g",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"m",(function(){return l})),a.d(e,"l",(function(){return o})),a.d(e,"i",(function(){return c})),a.d(e,"a",(function(){return u})),a.d(e,"j",(function(){return d})),a.d(e,"b",(function(){return m})),a.d(e,"d",(function(){return p})),a.d(e,"h",(function(){return g})),a.d(e,"f",(function(){return f})),a.d(e,"e",(function(){return h})),a.d(e,"k",(function(){return _}));var i=a("bc3a"),n=a.n(i);function r(t={}){return n.a.get("/quota-plans",{params:t})}function s(t){return n.a.post("/quota-plans",t)}function l(t,e){return n.a.put("/quota-plans/"+t,e)}function o(t){return n.a.patch(`/quota-plans/${t}/toggle`)}function c(t={}){return n.a.get("/withdrawals",{params:t})}function u(t){return n.a.post(`/withdrawals/${t}/approve`)}function d(t,e=""){return n.a.post(`/withdrawals/${t}/reject`,{reason:e})}function m(t,e=""){return n.a.post(`/withdrawals/${t}/complete`,{tx_hash:e})}function p(t={}){return n.a.get("/pointcard-logs",{params:t})}function g(t={}){return n.a.get("/rewards",{params:t})}function f(t={}){return n.a.get("/profit-pools",{params:t})}function h(){return n.a.get("/profit-pools/stats")}function _(t){return n.a.post(`/profit-pools/${t}/retry`)}},d069:function(t,e,a){"use strict";a("075e")}}]);