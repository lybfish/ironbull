(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c61a94e"],{"1b36":function(t,e,s){},"810f":function(t,e,s){"use strict";s("1b36")},b2af:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ele-body"},[t.connectionError?s("el-alert",{staticStyle:{"margin-bottom":"16px"},attrs:{title:"æ— æ³•è¿æ¥ signal-monitor æœåŠ¡",type:"error",closable:!1,"show-icon":""}},[s("div",{attrs:{slot:"description"},slot:"description"},[t._v(t._s(t.connectionError))])]):t._e(),s("el-row",{staticStyle:{"margin-bottom":"16px"},attrs:{gutter:15}},[s("el-col",{attrs:{span:6}},[s("stat-card",{attrs:{title:"è¿è¡ŒçŠ¶æ€",value:t.statusRunning?"è¿è¡Œä¸­":"å·²åœæ­¢",icon:"el-icon-video-play",color:t.statusRunning?"success":"info",loading:t.statusLoading,"help-text":"ä¿¡å·ç›‘æ§ä¸»å¾ªç¯"}})],1),s("el-col",{attrs:{span:6}},[s("stat-card",{attrs:{title:"æ´»è·ƒç­–ç•¥",value:t.statusConfig.strategies_count||0,icon:"el-icon-s-opportunity",color:"primary",loading:t.statusLoading,"help-text":"å½“å‰åŠ è½½çš„ç­–ç•¥æ•°"}})],1),s("el-col",{attrs:{span:6}},[s("stat-card",{attrs:{title:"å·²å¤„ç†ä¿¡å·",value:t.state.total_signals||0,icon:"el-icon-s-data",color:"warning",loading:t.statusLoading,"help-text":"ç´¯è®¡æ£€æµ‹åˆ°çš„ä¿¡å·æ•°"}})],1),s("el-col",{attrs:{span:6}},[s("stat-card",{attrs:{title:"æ£€æµ‹è½®æ¬¡",value:t.state.total_checks||0,icon:"el-icon-refresh",color:"info",loading:t.statusLoading,"help-text":"å·²æ‰§è¡Œæ£€æµ‹æ¬¡æ•°"}})],1)],1),s("el-card",{staticStyle:{"margin-bottom":"16px"},attrs:{shadow:"never"}},[s("div",{staticClass:"toolbar"},[s("span",{staticClass:"toolbar-title"},[t._v("æ§åˆ¶")]),s("div",[t.statusRunning?s("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-video-pause",loading:t.actionLoading},on:{click:t.handleStop}},[t._v("åœæ­¢ç›‘æ§")]):s("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-video-play",loading:t.actionLoading},on:{click:t.handleStart}},[t._v("å¯åŠ¨ç›‘æ§")]),s("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-refresh",loading:t.statusLoading},on:{click:t.fetchAll}},[t._v("åˆ·æ–°")]),s("el-switch",{staticStyle:{"margin-left":"12px"},attrs:{"active-text":"è‡ªåŠ¨åˆ·æ–°","inactive-text":""},on:{change:t.handleAutoRefreshChange},model:{value:t.autoRefresh,callback:function(e){t.autoRefresh=e},expression:"autoRefresh"}}),s("el-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"warning",size:"small",icon:"el-icon-message",loading:t.testNotifyLoading},on:{click:t.handleTestNotify}},[t._v("æµ‹è¯•é€šçŸ¥")])],1)])]),s("el-row",{attrs:{gutter:16}},[s("el-col",{attrs:{span:12}},[s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.statusLoading,expression:"statusLoading"}],attrs:{shadow:"never"}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("çŠ¶æ€è¯¦æƒ…")]),s("el-descriptions",{attrs:{column:1,border:"",size:"small"}},[s("el-descriptions-item",{attrs:{label:"è¿è¡ŒçŠ¶æ€"}},[s("el-tag",{attrs:{type:t.statusRunning?"success":"info",size:"small"}},[t._v(t._s(t.statusRunning?"è¿è¡Œä¸­":"å·²åœæ­¢"))])],1),s("el-descriptions-item",{attrs:{label:"æœ€åæ£€æµ‹æ—¶é—´"}},[t._v(t._s(t.formatTime(t.state.last_check)))]),s("el-descriptions-item",{attrs:{label:"ä¿¡å·æ£€æµ‹é—´éš”"}},[t._v(t._s(t.statusConfig.interval_seconds||"-")+" ç§’")]),s("el-descriptions-item",{attrs:{label:"æ•°æ®åŒæ­¥é—´éš”"}},[t._v(t._s(t.statusConfig.sync_interval_seconds||"-")+" ç§’")]),s("el-descriptions-item",{attrs:{label:"é”™è¯¯æ¬¡æ•°"}},[t._v(t._s(t.state.errors||0))])],1)],1)],1),s("el-col",{attrs:{span:12}},[s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.configLoading,expression:"configLoading"}],attrs:{shadow:"never"}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("å…¨å±€é…ç½®")]),s("el-form",{attrs:{model:t.config,"label-width":"140px",size:"small"}},[s("el-form-item",{attrs:{label:"ä¿¡å·æ£€æµ‹é—´éš”(ç§’)"}},[s("el-input-number",{staticStyle:{width:"140px"},attrs:{min:10,max:600,step:10},model:{value:t.config.interval_seconds,callback:function(e){t.$set(t.config,"interval_seconds",e)},expression:"config.interval_seconds"}}),s("span",{staticClass:"form-tip"},[t._v("å»ºè®® 60â€“300 ç§’")])],1),s("el-form-item",{attrs:{label:"æ•°æ®åŒæ­¥é—´éš”(ç§’)"}},[s("el-input-number",{staticStyle:{width:"140px"},attrs:{min:10,max:600,step:10},model:{value:t.config.sync_interval_seconds,callback:function(e){t.$set(t.config,"sync_interval_seconds",e)},expression:"config.sync_interval_seconds"}}),s("span",{staticClass:"form-tip"},[t._v("ä½™é¢/æŒä»“/æˆäº¤åŒæ­¥é¢‘ç‡")])],1),s("el-form-item",{attrs:{label:"æœ‰ä¿¡å·æ—¶é€šçŸ¥"}},[s("el-switch",{model:{value:t.config.notify_on_signal,callback:function(e){t.$set(t.config,"notify_on_signal",e)},expression:"config.notify_on_signal"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",loading:t.configSaving},on:{click:t.saveConfig}},[t._v("ä¿å­˜é…ç½®")])],1)],1)],1)],1)],1),t.state.last_signal?s("el-card",{staticStyle:{"margin-top":"16px"},attrs:{shadow:"never"}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("æœ€è¿‘ä¸€æ¬¡ä¿¡å·")]),s("el-descriptions",{attrs:{column:2,border:"",size:"small"}},[s("el-descriptions-item",{attrs:{label:"äº¤æ˜“å¯¹"}},[t._v(t._s(t.state.last_signal.symbol))]),s("el-descriptions-item",{attrs:{label:"æ–¹å‘"}},[s("el-tag",{attrs:{type:"BUY"===t.state.last_signal.side?"success":"danger",size:"mini"}},[t._v(t._s(t.state.last_signal.side))])],1),s("el-descriptions-item",{attrs:{label:"å…¥åœºä»·"}},[t._v(t._s(t.state.last_signal.entry_price))]),s("el-descriptions-item",{attrs:{label:"ç½®ä¿¡åº¦"}},[t._v(t._s(t.state.last_signal.confidence)+"%")]),s("el-descriptions-item",{attrs:{label:"ç­–ç•¥"}},[t._v(t._s(t.state.last_signal.strategy||"-"))]),s("el-descriptions-item",{attrs:{label:"æ—¶é—´"}},[t._v(t._s(t.formatTime(t.state.last_signal.timestamp)))])],1)],1):t._e(),t.cooldowns.length>0?s("el-card",{staticStyle:{"margin-top":"16px"},attrs:{shadow:"never"}},[s("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("ä¿¡å·å†·å´çŠ¶æ€")]),s("el-tag",{attrs:{size:"small",type:"warning"}},[t._v(t._s(t.cooldowns.length)+" ä¸ªå†·å´ä¸­")])],1),s("el-table",{attrs:{data:t.cooldowns,stripe:"",border:"",size:"small","header-cell-style":{background:"#fafafa"}}},[s("el-table-column",{attrs:{prop:"strategy",label:"ç­–ç•¥",width:"140"}}),s("el-table-column",{attrs:{prop:"symbol",label:"äº¤æ˜“å¯¹",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(a.symbol))])]}}],null,!1,2727587945)}),s("el-table-column",{attrs:{prop:"remaining_minutes",label:"å‰©ä½™å†·å´",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",{staticStyle:{color:"#E6A23C","font-weight":"600"}},[t._v(t._s(a.remaining_minutes)+" åˆ†é’Ÿ")])]}}],null,!1,3771620059)}),s("el-table-column",{attrs:{prop:"cooldown_until",label:"å†·å´åˆ°æœŸ","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[t._v(t._s(t.formatTime(s.cooldown_until)))]}}],null,!1,2584281856)})],1)],1):t._e(),s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.statusLoading,expression:"statusLoading"}],staticStyle:{"margin-top":"16px"},attrs:{shadow:"never"}},[s("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("é™ä»·æŒ‚å• (å®æ—¶)")]),s("div",[t.pendingOrders.length?s("el-tag",{attrs:{size:"small",type:"warning"}},[t._v(t._s(t.pendingOrders.length)+" ä¸ªç­‰å¾…ä¸­")]):t._e(),t.awaitingConfirm.length?s("el-tag",{staticStyle:{"margin-left":"6px"},attrs:{size:"small",type:"info"}},[t._v(t._s(t.awaitingConfirm.length)+" ä¸ªç¡®è®¤ä¸­")]):t._e(),s("el-button",{staticStyle:{"margin-left":"8px"},attrs:{size:"mini",icon:"el-icon-refresh"},on:{click:t.fetchStatus}},[t._v("åˆ·æ–°")])],1)]),0===t.pendingOrders.length&&0===t.awaitingConfirm.length?s("div",{staticStyle:{"text-align":"center",color:"#909399",padding:"20px 0"}},[t._v(" æš‚æ— å¾…å¤„ç†é™ä»·æŒ‚å• ")]):t._e(),t.pendingOrders.length>0?s("div",[s("div",{staticStyle:{"font-weight":"600","margin-bottom":"8px",color:"#E6A23C"}},[t._v("â³ ç­‰å¾…æˆäº¤")]),s("el-table",{attrs:{data:t.pendingOrders,stripe:"",border:"",size:"small","header-cell-style":{background:"#fafafa"}}},[s("el-table-column",{attrs:{prop:"symbol",label:"äº¤æ˜“å¯¹",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(a.symbol))])]}}],null,!1,2727587945)}),s("el-table-column",{attrs:{prop:"side",label:"æ–¹å‘",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("el-tag",{attrs:{type:"BUY"===a.side?"success":"danger",size:"mini",effect:"dark"}},[t._v(t._s(a.side))])]}}],null,!1,2394312301)}),s("el-table-column",{attrs:{prop:"entry_price",label:"æŒ‚å•ä»·",width:"110",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[t._v(t._s(t.formatPrice(s.entry_price)))]}}],null,!1,1583821974)}),s("el-table-column",{attrs:{label:"æ­¢æŸ/æ­¢ç›ˆ",width:"130",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.stop_loss?s("div",{staticStyle:{color:"#F56C6C","font-size":"12px"}},[t._v("SL "+t._s(t.formatPrice(a.stop_loss)))]):t._e(),a.take_profit?s("div",{staticStyle:{color:"#67C23A","font-size":"12px"}},[t._v("TP "+t._s(t.formatPrice(a.take_profit)))]):t._e()]}}],null,!1,877296504)}),s("el-table-column",{attrs:{prop:"key",label:"ç­–ç•¥",width:"180","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"placed_at",label:"æŒ‚å•æ—¶é—´",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[t._v(t._s(t.formatTime(s.placed_at)))]}}],null,!1,2725340445)}),s("el-table-column",{attrs:{prop:"elapsed_min",label:"ç­‰å¾…",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",{staticStyle:{color:"#E6A23C","font-weight":"600"}},[t._v(t._s(a.elapsed_min)+"m")])]}}],null,!1,2573598542)}),s("el-table-column",{attrs:{label:"æ“ä½œ",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"mini"},on:{click:function(e){return t.handleCancelPending(a)}}},[t._v("æ’¤å•")])]}}],null,!1,3059533577)})],1)],1):t._e(),t.awaitingConfirm.length>0?s("div",{staticStyle:{"margin-top":"16px"}},[s("div",{staticStyle:{"font-weight":"600","margin-bottom":"8px",color:"#409EFF"}},[t._v("ğŸ” ç­‰å¾…ç¡®è®¤")]),s("el-table",{attrs:{data:t.awaitingConfirm,stripe:"",border:"",size:"small","header-cell-style":{background:"#fafafa"}}},[s("el-table-column",{attrs:{prop:"symbol",label:"äº¤æ˜“å¯¹",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(a.symbol))])]}}],null,!1,2727587945)}),s("el-table-column",{attrs:{prop:"side",label:"æ–¹å‘",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("el-tag",{attrs:{type:"BUY"===a.side?"success":"danger",size:"mini",effect:"dark"}},[t._v(t._s(a.side))])]}}],null,!1,2394312301)}),s("el-table-column",{attrs:{prop:"filled_price",label:"æˆäº¤ä»·",width:"110",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[t._v(t._s(t.formatPrice(s.filled_price)))]}}],null,!1,1855212076)}),s("el-table-column",{attrs:{prop:"key",label:"ç­–ç•¥",width:"180","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"filled_at",label:"æˆäº¤æ—¶é—´",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[t._v(t._s(t.formatTime(s.filled_at)))]}}],null,!1,989805868)}),s("el-table-column",{attrs:{prop:"confirm_bars",label:"ç¡®è®¤Kçº¿æ•°",width:"100",align:"center"}}),s("el-table-column",{attrs:{label:"æ“ä½œ",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"mini"},on:{click:function(e){return t.handleCancelAwaiting(a)}}},[t._v("æ’¤é”€")])]}}],null,!1,3101237353)})],1)],1):t._e()]),t.cachedStrategies.length>0?s("el-card",{staticStyle:{"margin-top":"16px"},attrs:{shadow:"never"}},[s("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("å·²ç¼“å­˜ç­–ç•¥å®ä¾‹")]),s("el-tag",{attrs:{size:"small",type:"success"}},[t._v(t._s(t.cachedStrategies.length)+" ä¸ª")])],1),t._l(t.cachedStrategies,(function(e){return s("el-tag",{key:e,staticStyle:{margin:"4px"},attrs:{size:"small"}},[t._v(t._s(e))])}))],2):t._e(),s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.strategiesLoading,expression:"strategiesLoading"}],staticStyle:{"margin-top":"16px"},attrs:{shadow:"never"}},[s("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("ç­–ç•¥åˆ—è¡¨ï¼ˆä¿¡å·ç›‘æ§åŠ è½½ï¼‰")]),s("el-button",{attrs:{size:"mini",icon:"el-icon-refresh",loading:t.strategiesLoading},on:{click:t.fetchStrategies}},[t._v("åˆ·æ–°")])],1),s("el-table",{attrs:{data:t.strategies,stripe:"",border:"",size:"small","header-cell-style":{background:"#fafafa"}}},[s("el-table-column",{attrs:{prop:"code",label:"ç­–ç•¥ç¼–ç ",width:"120"}}),s("el-table-column",{attrs:{prop:"name",label:"ç­–ç•¥åç§°","min-width":"140","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"exchange",label:"äº¤æ˜“æ‰€",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[t._v(t._s(s.exchange||"-"))]}}])}),s("el-table-column",{attrs:{prop:"timeframe",label:"å‘¨æœŸ",width:"80",align:"center"}}),s("el-table-column",{attrs:{label:"äº¤æ˜“å¯¹","min-width":"180","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[t._v(t._s(t.formatSymbols(s.symbols)))]}}])}),s("el-table-column",{attrs:{prop:"min_confidence",label:"æœ€ä½ç½®ä¿¡åº¦",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[t._v(t._s(null!=s.min_confidence?s.min_confidence+"%":"-"))]}}])})],1),t.strategiesLoading||0!==t.strategies.length?t._e():s("el-empty",{attrs:{description:"æš‚æ— ç­–ç•¥æˆ–æœåŠ¡æœªå°±ç»ª"}})],1)],1)},n=[],i=s("bc3a"),r=s.n(i),o=s("d2b8");function l(t){const e="/ib/signal-api",s="undefined"!==typeof window?window.location.origin+e:e;return s+t}const c=r.a.create({timeout:15e3});function d(){return c.get(l("/status"))}function g(){return c.get(l("/config"))}function u(t){return c.post(l("/config"),t)}function f(){return c.get(l("/strategies"))}function h(){return c.post(l("/start"))}function m(){return c.post(l("/stop"))}function p(){return c.post(l("/test-notify"))}function _(t,e){return c.post(l("/pending-orders/cancel"),{pending_key:t,reason:e||"ç®¡ç†å‘˜æ‰‹åŠ¨æ’¤å•"})}c.interceptors.request.use(t=>{const e=o["a"].takeToken();return e&&(t.headers[o["a"].tokenHeaderName]="Bearer "+e),t},t=>Promise.reject(t));var v={name:"SignalControl",data(){return{statusLoading:!1,configLoading:!1,configSaving:!1,strategiesLoading:!1,actionLoading:!1,testNotifyLoading:!1,connectionError:"",autoRefresh:!1,refreshTimer:null,state:{},statusConfig:{},config:{interval_seconds:300,sync_interval_seconds:300,notify_on_signal:!0},strategies:[],cooldowns:[],pendingOrders:[],awaitingConfirm:[],cachedStrategies:[]}},computed:{statusRunning(){return!!this.state.running}},mounted(){this.fetchAll()},beforeDestroy(){this.clearRefreshTimer()},methods:{formatTime(t){if(!t)return"-";const e="string"===typeof t?t:t.toISOString&&t.toISOString();return e?e.replace("T"," ").substring(0,19):"-"},formatSymbols(t){return t?Array.isArray(t)?t.join(", "):String(t):"-"},handleAutoRefreshChange(t){t?this.startAutoRefresh():this.clearRefreshTimer()},startAutoRefresh(){this.clearRefreshTimer(),this.refreshTimer=setInterval(()=>{this.fetchStatus()},1e4)},clearRefreshTimer(){this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null)},fetchAll(){this.fetchStatus(),this.fetchConfig(),this.fetchStrategies()},formatPrice(t){if(null==t||""===t||0===t)return"-";const e=Number(t);return isNaN(e)?t:e>=1e3?e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):e>=1?e.toLocaleString("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}):e.toLocaleString("en-US",{minimumFractionDigits:6,maximumFractionDigits:8})},async handleCancelPending(t){try{await this.$confirm(`ç¡®å®šæ’¤é”€æŒ‚å•ã€Œ${t.symbol} ${t.side}ã€ï¼Ÿ`,"æ’¤å•ç¡®è®¤",{confirmButtonText:"ç¡®è®¤æ’¤é”€",cancelButtonText:"å–æ¶ˆ",type:"warning"})}catch{return}try{const e=await _(t.key,"ç®¡ç†å‘˜æ‰‹åŠ¨æ’¤å•");e.data.success?this.$message.success(e.data.message||"æ’¤å•æˆåŠŸ"):this.$message.error(e.data.error||"æ’¤å•å¤±è´¥"),this.fetchStatus()}catch(s){var e;this.$message.error((null===(e=s.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.error)||"æ’¤å•å¤±è´¥")}},async handleCancelAwaiting(t){try{await this.$confirm(`ç¡®å®šæ’¤é”€ç¡®è®¤ä¸­ä»“ä½ã€Œ${t.symbol} ${t.side}ã€ï¼Ÿå°†å¸‚ä»·å¹³ä»“ã€‚`,"æ’¤é”€ç¡®è®¤",{confirmButtonText:"ç¡®è®¤æ’¤é”€",cancelButtonText:"å–æ¶ˆ",type:"error"})}catch{return}try{const e=await _(t.key,"ç®¡ç†å‘˜æ‰‹åŠ¨æ’¤é”€ç¡®è®¤");e.data.success?this.$message.success(e.data.message||"æ’¤é”€æˆåŠŸ"):this.$message.error(e.data.error||"æ’¤é”€å¤±è´¥"),this.fetchStatus()}catch(s){var e;this.$message.error((null===(e=s.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.error)||"æ’¤é”€å¤±è´¥")}},async fetchStatus(){this.statusLoading=!0,this.connectionError="";try{const t=await d(),e=t.data;this.state=e.state||e||{},this.statusConfig=e.config||{},this.cooldowns=e.cooldowns||[],this.pendingOrders=e.pending_limit_orders||[],this.awaitingConfirm=e.awaiting_confirmation||[],this.cachedStrategies=e.cached_strategies||[]}catch(t){this.connectionError=t.message||t.response&&t.response.data&&(t.response.data.error||t.response.data.detail)||"è¯·ç¡®è®¤ signal-monitor å·²å¯åŠ¨ï¼ˆç«¯å£ 8020ï¼‰",this.state={},this.statusConfig={},this.cooldowns=[],this.pendingOrders=[],this.awaitingConfirm=[],this.cachedStrategies=[]}finally{this.statusLoading=!1}},async fetchConfig(){this.configLoading=!0;try{const t=await g(),e=t.data,s=e.config||e||{};null!=s.interval_seconds&&(this.config.interval_seconds=s.interval_seconds),null!=s.sync_interval_seconds&&(this.config.sync_interval_seconds=s.sync_interval_seconds),void 0!==s.notify_on_signal&&(this.config.notify_on_signal=!!s.notify_on_signal)}catch(t){this.$message.error("è·å–é…ç½®å¤±è´¥")}finally{this.configLoading=!1}},async saveConfig(){this.configSaving=!0;try{await u({interval_seconds:this.config.interval_seconds,sync_interval_seconds:this.config.sync_interval_seconds,notify_on_signal:this.config.notify_on_signal}),this.$message.success("é…ç½®å·²ä¿å­˜"),this.fetchStatus()}catch(e){var t;this.$message.error((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.error)||"ä¿å­˜å¤±è´¥")}finally{this.configSaving=!1}},async fetchStrategies(){this.strategiesLoading=!0;try{const t=await f(),e=t.data;this.strategies=e.strategies||e.data||e||[]}catch(t){this.strategies=[]}finally{this.strategiesLoading=!1}},async handleStart(){this.actionLoading=!0;try{const t=await h(),e=t.data;e.success?(this.$message.success(e.message||"ç›‘æ§å·²å¯åŠ¨"),this.fetchStatus()):this.$message.warning(e.error||"å¯åŠ¨å¤±è´¥")}catch(e){var t;this.$message.error((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.error)||"å¯åŠ¨å¤±è´¥")}finally{this.actionLoading=!1}},async handleStop(){this.actionLoading=!0;try{const t=await m(),e=t.data;e.success?(this.$message.success(e.message||"ç›‘æ§å·²åœæ­¢"),this.fetchStatus()):this.$message.warning(e.error||"åœæ­¢å¤±è´¥")}catch(e){var t;this.$message.error((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.error)||"åœæ­¢å¤±è´¥")}finally{this.actionLoading=!1}},async handleTestNotify(){this.testNotifyLoading=!0;try{const t=await p(),e=t.data;e.success?this.$message.success("æµ‹è¯•é€šçŸ¥å·²å‘é€"):this.$message.warning(e.error||"å‘é€å¤±è´¥")}catch(e){var t;this.$message.error((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.error)||"æµ‹è¯•é€šçŸ¥å¤±è´¥")}finally{this.testNotifyLoading=!1}}}},y=v,b=(s("810f"),s("2877")),w=Object(b["a"])(y,a,n,!1,null,"714ac588",null);e["default"]=w.exports}}]);