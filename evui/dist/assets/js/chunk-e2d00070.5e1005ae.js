(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e2d00070"],{"00e8":function(t,a,e){"use strict";e("2224")},2224:function(t,a,e){},"50fc":function(t,a,e){"use strict";e.d(a,"p",(function(){return i})),e.d(a,"f",(function(){return r})),e.d(a,"E",(function(){return l})),e.d(a,"z",(function(){return o})),e.d(a,"t",(function(){return c})),e.d(a,"b",(function(){return d})),e.d(a,"o",(function(){return u})),e.d(a,"g",(function(){return v})),e.d(a,"F",(function(){return p})),e.d(a,"d",(function(){return f})),e.d(a,"h",(function(){return m})),e.d(a,"s",(function(){return g})),e.d(a,"q",(function(){return _})),e.d(a,"u",(function(){return h})),e.d(a,"r",(function(){return y})),e.d(a,"w",(function(){return C})),e.d(a,"A",(function(){return w})),e.d(a,"i",(function(){return b})),e.d(a,"e",(function(){return k})),e.d(a,"B",(function(){return x})),e.d(a,"x",(function(){return S})),e.d(a,"v",(function(){return z})),e.d(a,"m",(function(){return $})),e.d(a,"n",(function(){return P})),e.d(a,"D",(function(){return D})),e.d(a,"y",(function(){return R})),e.d(a,"j",(function(){return T})),e.d(a,"C",(function(){return E})),e.d(a,"k",(function(){return j})),e.d(a,"a",(function(){return F})),e.d(a,"c",(function(){return I})),e.d(a,"l",(function(){return A}));var s=e("bc3a"),n=e.n(s);function i(t={}){return n.a.get("/tenants",{params:t})}function r(t){return n.a.post("/tenants",t)}function l(t,a){return n.a.put("/tenants/"+t,a)}function o(t){return n.a.patch(`/tenants/${t}/toggle`)}function c(t,a){return n.a.post(`/tenants/${t}/recharge`,a)}function d(t,a){return n.a.post(`/tenants/${t}/assign-plan`,{plan_id:a})}function u(t,a={}){return n.a.get(`/tenants/${t}/tenant-strategies`,{params:a})}function v(t,a){return n.a.post(`/tenants/${t}/tenant-strategies`,a)}function p(t,a,e){return n.a.put(`/tenants/${t}/tenant-strategies/${a}`,e)}function f(t,a){return n.a.post(`/tenants/${t}/tenant-strategies/${a}/copy-from-master`)}function m(t,a){return n.a.delete(`/tenants/${t}/tenant-strategies/${a}`)}function g(t={}){return n.a.get("/users",{params:t})}function _(t){return n.a.get("/users/"+t)}function h(t,a){return n.a.post(`/users/${t}/recharge`,a)}function y(t,a={}){return n.a.get(`/users/${t}/team`,{params:a})}function C(t,a){return n.a.post(`/users/${t}/set-market-node`,a)}function w(t,a){return n.a.post(`/users/${t}/toggle-status`,{status:a})}function b(t={}){return n.a.get("/admins",{params:t})}function k(t){return n.a.post("/admins",t)}function x(t,a){return n.a.put("/admins/"+t,a)}function S(t){return n.a.patch(`/admins/${t}/toggle`)}function z(t,a){return n.a.post(`/admins/${t}/reset-password`,a)}function $(t={}){return n.a.get("/strategies",{params:t})}function P(t){return n.a.get("/strategies/"+t)}function D(t,a){return n.a.post("/strategies/"+t,a)}function R(t){return n.a.patch(`/strategies/${t}/toggle`)}function T(t={}){return n.a.get("/strategy-bindings-admin",{params:t})}function E(t,a){return n.a.put("/strategy-bindings-admin/"+t,a)}function j(t={}){return n.a.get("/exchange-accounts",{params:t})}function F(t,a){return n.a.put(`/exchange-accounts/${t}/assign-node`,a)}function I(t){return n.a.post("/exchange-accounts/batch-assign-node",t)}function A(t={}){return n.a.get("/signal-events",{params:t})}},"7cf8":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"a",(function(){return r}));var s=e("bc3a"),n=e.n(s);function i(){return n.a.get("/monitor/status")}function r(t={}){return n.a.get("/audit-logs",{params:t})}},8012:function(t,a,e){"use strict";e.d(a,"d",(function(){return l})),e.d(a,"c",(function(){return o})),e.d(a,"e",(function(){return c})),e.d(a,"b",(function(){return d})),e.d(a,"f",(function(){return u})),e.d(a,"g",(function(){return v})),e.d(a,"a",(function(){return p}));var s=e("bc3a"),n=e.n(s);let i={tenant_id:parseInt(localStorage.getItem("ironbull_tenant_id"))||1};function r(t){return{...i,...t}}function l(t={}){return n.a.get("/orders",{params:r({limit:50,...t})})}function o(t={}){return n.a.get("/fills",{params:r({limit:50,...t})})}function c(t={}){return n.a.get("/positions",{params:r({limit:100,...t})})}function d(t={}){return n.a.get("/accounts",{params:r({limit:50,...t})})}function u(t={}){return n.a.get("/transactions",{params:r({limit:50,...t})})}function v(t){return n.a.post("/manual-order",t)}function p(t){return n.a.post("/close-position",t)}},8697:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ele-body ele-body-card"},[e("el-card",{attrs:{shadow:"never","body-style":"padding: 20px;"}},[e("div",{staticClass:"ele-cell workplace-user-card"},[e("div",{staticClass:"ele-cell-content ele-cell"},[e("el-avatar",{attrs:{size:68,src:t.loginUser.avatar||t.defaultAvatar}}),e("div",{staticClass:"ele-cell-content"},[e("h4",{staticClass:"ele-elip"},[t._v("你好，【"+t._s(t.loginUser.nickname||"Admin")+"】，欢迎使用 Aigo 管理后台！")]),e("div",{staticClass:"ele-text-secondary ele-elip",staticStyle:{"margin-top":"8px"}},[e("i",{staticClass:"el-icon-sunny"}),e("span",[t._v("祝您交易顺利，收益满满!")])])])],1),e("div",{staticClass:"workplace-count-group"},[e("div",{staticClass:"workplace-count-item"},[e("div",{staticClass:"workplace-count-header"},[e("el-tag",{staticClass:"ele-tag-round",attrs:{type:"primary",size:"small"}},[e("i",{staticClass:"el-icon-wallet"})]),e("span",{staticClass:"workplace-count-name"},[t._v("总余额")])],1),e("div",{staticClass:"workplace-count-num"},[t._v("$"+t._s(t.formatMoney(t.tenant.equity)))])]),e("div",{staticClass:"workplace-count-item"},[e("div",{staticClass:"workplace-count-header"},[e("el-tag",{staticClass:"ele-tag-round",attrs:{type:t.tenant.dailyPnl>=0?"success":"danger",size:"small"}},[e("i",{staticClass:"el-icon-s-data"})]),e("span",{staticClass:"workplace-count-name"},[t._v("日收益")])],1),e("div",{staticClass:"workplace-count-num",class:t.tenant.dailyPnl>=0?"text-success":"text-danger"},[t._v(" $"+t._s(t.formatMoney(t.tenant.dailyPnl))+" ")])]),e("div",{staticClass:"workplace-count-item"},[e("div",{staticClass:"workplace-count-header"},[e("el-tag",{staticClass:"ele-tag-round",attrs:{type:"warning",size:"small"}},[e("i",{staticClass:"el-icon-s-order"})]),e("span",{staticClass:"workplace-count-name"},[t._v("持仓数")])],1),e("div",{staticClass:"workplace-count-num"},[t._v(t._s(t.tenant.positions||0))])]),e("div",{staticClass:"workplace-count-item"},[e("div",{staticClass:"workplace-count-header"},[e("el-tag",{staticClass:"ele-tag-round",attrs:{size:"small"}},[e("i",{staticClass:"el-icon-s-operation"})]),e("span",{staticClass:"workplace-count-name"},[t._v("活跃策略")])],1),e("div",{staticClass:"workplace-count-num"},[t._v(t._s(t.platform.active_bindings||0))])])])])]),e("el-row",{staticStyle:{"margin-bottom":"15px"},attrs:{gutter:15}},[e("el-col",{attrs:{lg:6,md:12,sm:12}},[e("stat-card",{attrs:{title:"租户总数",value:t.platform.total_tenants,icon:"el-icon-s-custom",color:"primary","help-text":"平台注册租户数量",loading:t.loading},scopedSlots:t._u([{key:"footer",fn:function(){return[e("span",{staticClass:"ele-text-secondary"},[t._v("活跃 "+t._s(t.platform.active_tenants))])]},proxy:!0}])})],1),e("el-col",{attrs:{lg:6,md:12,sm:12}},[e("stat-card",{attrs:{title:"用户总数",value:t.platform.total_users,icon:"el-icon-user",color:"success","help-text":"平台注册用户总数",loading:t.loading}})],1),e("el-col",{attrs:{lg:6,md:12,sm:12}},[e("stat-card",{attrs:{title:"订单总数",value:t.platform.total_orders,icon:"el-icon-document",color:"warning","help-text":"平台累计订单数量",loading:t.loading}})],1),e("el-col",{attrs:{lg:6,md:12,sm:12}},[e("stat-card",{attrs:{title:"执行节点",value:t.platform.total_nodes,icon:"el-icon-s-platform",color:"info","help-text":"已注册的执行节点",loading:t.loading},scopedSlots:t._u([{key:"footer",fn:function(){return[e("span",{staticClass:"ele-text-secondary"},[t._v("在线 "+t._s(t.platform.online_nodes))])]},proxy:!0}])})],1)],1),e("el-row",{staticStyle:{"margin-bottom":"15px"},attrs:{gutter:15}},[e("el-col",{attrs:{lg:16,md:24}},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"card-header-flex",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("绩效摘要")]),e("el-button",{attrs:{size:"mini",icon:"el-icon-refresh",loading:t.loading},on:{click:t.fetchData}},[t._v("刷新")])],1),e("el-row",{attrs:{gutter:20}},t._l(t.perfItems,(function(a){return e("el-col",{key:a.label,staticClass:"perf-item",attrs:{span:4}},[e("div",{staticClass:"perf-label"},[t._v(t._s(a.label))]),e("div",{staticClass:"perf-value",class:a.cls||""},[t._v(t._s(a.value))])])})),1)],1)],1),e("el-col",{attrs:{lg:8,md:24}},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"card-header-flex",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("系统状态")]),e("el-tag",{attrs:{type:t.systemHealthy?"success":"danger",size:"small"}},[t._v(" "+t._s(t.systemHealthy?"正常":"异常")+" ")])],1),e("div",{staticClass:"system-status-grid"},[e("div",{staticClass:"status-item"},[e("div",{staticClass:"status-label"},[t._v("data-api")]),e("div",{staticClass:"status-value"},[e("el-tag",{attrs:{type:t.services.data_api?"success":"danger",size:"mini"}},[t._v(" "+t._s(t.services.data_api?"在线":"离线")+" ")])],1)]),e("div",{staticClass:"status-item"},[e("div",{staticClass:"status-label"},[t._v("signal-monitor")]),e("div",{staticClass:"status-value"},[e("el-tag",{attrs:{type:t.services.signal_monitor?"success":"danger",size:"mini"}},[t._v(" "+t._s(t.services.signal_monitor?"在线":"离线")+" ")])],1)]),e("div",{staticClass:"status-item"},[e("div",{staticClass:"status-label"},[t._v("数据库")]),e("div",{staticClass:"status-value"},[e("el-tag",{attrs:{type:t.services.database?"success":"danger",size:"mini"}},[t._v(" "+t._s(t.services.database?"正常":"异常")+" ")])],1)])]),e("div",{staticStyle:{"text-align":"center","margin-top":"15px"}},[e("el-button",{attrs:{size:"mini",icon:"el-icon-refresh",loading:t.loading},on:{click:t.fetchData}},[t._v(" 刷新数据 ")])],1)])],1)],1),e("el-row",{staticStyle:{"margin-bottom":"15px"},attrs:{gutter:15}},[e("el-col",{attrs:{lg:3,md:6,sm:6,xs:12}},[e("el-card",{attrs:{shadow:"hover","body-style":"padding: 0;"}},[e("router-link",{staticClass:"app-link-block",attrs:{to:"/trading/orders"}},[e("i",{staticClass:"app-link-icon el-icon-s-order"}),e("div",{staticClass:"app-link-title"},[t._v("订单管理")])])],1)],1),e("el-col",{attrs:{lg:3,md:6,sm:6,xs:12}},[e("el-card",{attrs:{shadow:"hover","body-style":"padding: 0;"}},[e("router-link",{staticClass:"app-link-block",attrs:{to:"/trading/positions"}},[e("i",{staticClass:"app-link-icon el-icon-s-data",staticStyle:{color:"#95de64"}}),e("div",{staticClass:"app-link-title"},[t._v("当前持仓")])])],1)],1),e("el-col",{attrs:{lg:3,md:6,sm:6,xs:12}},[e("el-card",{attrs:{shadow:"hover","body-style":"padding: 0;"}},[e("router-link",{staticClass:"app-link-block",attrs:{to:"/strategy/list"}},[e("i",{staticClass:"app-link-icon el-icon-s-opportunity",staticStyle:{color:"#ff9c6e"}}),e("div",{staticClass:"app-link-title"},[t._v("策略目录")])])],1)],1),e("el-col",{attrs:{lg:3,md:6,sm:6,xs:12}},[e("el-card",{attrs:{shadow:"hover","body-style":"padding: 0;"}},[e("router-link",{staticClass:"app-link-block",attrs:{to:"/monitor/signal-control"}},[e("i",{staticClass:"app-link-icon el-icon-connection",staticStyle:{color:"#b37feb"}}),e("div",{staticClass:"app-link-title"},[t._v("信号监控")])])],1)],1),e("el-col",{attrs:{lg:3,md:6,sm:6,xs:12}},[e("el-card",{attrs:{shadow:"hover","body-style":"padding: 0;"}},[e("router-link",{staticClass:"app-link-block",attrs:{to:"/system/tenants"}},[e("i",{staticClass:"app-link-icon el-icon-s-custom",staticStyle:{color:"#ffd666"}}),e("div",{staticClass:"app-link-title"},[t._v("租户管理")])])],1)],1),e("el-col",{attrs:{lg:3,md:6,sm:6,xs:12}},[e("el-card",{attrs:{shadow:"hover","body-style":"padding: 0;"}},[e("router-link",{staticClass:"app-link-block",attrs:{to:"/user/exchange-accounts"}},[e("i",{staticClass:"app-link-icon el-icon-wallet",staticStyle:{color:"#5cdbd3"}}),e("div",{staticClass:"app-link-title"},[t._v("交易账户")])])],1)],1),e("el-col",{attrs:{lg:3,md:6,sm:6,xs:12}},[e("el-card",{attrs:{shadow:"hover","body-style":"padding: 0;"}},[e("router-link",{staticClass:"app-link-block",attrs:{to:"/monitor/nodes"}},[e("i",{staticClass:"app-link-icon el-icon-s-platform",staticStyle:{color:"#ff85c0"}}),e("div",{staticClass:"app-link-title"},[t._v("执行节点")])])],1)],1),e("el-col",{attrs:{lg:3,md:6,sm:6,xs:12}},[e("el-card",{attrs:{shadow:"hover","body-style":"padding: 0;"}},[e("router-link",{staticClass:"app-link-block",attrs:{to:"/trading/analytics"}},[e("i",{staticClass:"app-link-icon el-icon-data-analysis",staticStyle:{color:"#ffc069"}}),e("div",{staticClass:"app-link-title"},[t._v("绩效分析")])])],1)],1)],1),e("el-row",{staticStyle:{"margin-bottom":"15px"},attrs:{gutter:15}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"card-header-flex",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("近期信号")]),e("router-link",{attrs:{to:"/strategy/signal-history"}},[e("el-button",{attrs:{type:"text",size:"mini"}},[t._v("查看全部")])],1)],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.recentSignals,stripe:"",size:"mini","header-cell-style":{background:"#fafafa"}}},[e("el-table-column",{attrs:{prop:"signal_id",label:"信号ID",width:"160"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.row;return[e("span",{staticStyle:{"font-family":"monospace","font-size":"12px"}},[t._v(t._s((s.signal_id||"").slice(0,16)))])]}}])}),e("el-table-column",{attrs:{prop:"event_type",label:"事件",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.row;return[e("el-tag",{attrs:{type:t.signalTagType(s.event_type),size:"mini"}},[t._v(t._s(s.event_type))])]}}])}),e("el-table-column",{attrs:{prop:"status",label:"状态",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.row;return[e("el-tag",{attrs:{type:"SUCCESS"===s.status?"success":"FAILED"===s.status?"danger":"warning",size:"mini"}},[t._v(" "+t._s(s.status)+" ")])]}}])}),e("el-table-column",{attrs:{label:"详情","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.row;return[e("span",{staticStyle:{"font-size":"12px",color:"#606266"}},[t._v(t._s(t.signalDetail(s)))])]}}])}),e("el-table-column",{attrs:{prop:"created_at",label:"时间",width:"170"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.row;return[e("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(s.created_at||"-"))])]}}])})],1),t.loading||0!==t.recentSignals.length?t._e():e("el-empty",{attrs:{description:"暂无信号记录","image-size":60}})],1)],1)],1),e("el-row",{attrs:{gutter:15}},[e("el-col",{attrs:{lg:8,md:12}},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"card-header-flex",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("账户资产")]),e("router-link",{attrs:{to:"/trading/accounts"}},[e("el-button",{attrs:{type:"text",size:"mini"}},[t._v("详情")])],1)],1),e("div",{staticClass:"trade-overview-item"},[e("div",{staticClass:"trade-overview-label"},[t._v("当前权益")]),e("div",{staticClass:"trade-overview-value"},[t._v(t._s(t.formatMoney(t.tenant.equity))+" USDT")])]),e("div",{staticClass:"trade-overview-item"},[e("div",{staticClass:"trade-overview-label"},[t._v("累计收益率")]),e("div",{staticClass:"trade-overview-value",class:t.tenant.totalReturn>=0?"text-success":"text-danger"},[t._v(" "+t._s(t.fmtPct(t.tenant.totalReturn))+" ")])]),e("div",{staticClass:"trade-overview-item"},[e("div",{staticClass:"trade-overview-label"},[t._v("最大回撤")]),e("div",{staticClass:"trade-overview-value text-danger"},[t._v(t._s(t.fmtPct(t.tenant.maxDrawdown)))])])])],1),e("el-col",{attrs:{lg:8,md:12}},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"card-header-flex",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("持仓概览")]),e("router-link",{attrs:{to:"/trading/positions"}},[e("el-button",{attrs:{type:"text",size:"mini"}},[t._v("管理")])],1)],1),e("div",{staticClass:"trade-overview-item"},[e("div",{staticClass:"trade-overview-label"},[t._v("活跃持仓")]),e("div",{staticClass:"trade-overview-value"},[t._v(t._s(t.tenant.positions||0)+" 个")])]),e("div",{staticClass:"trade-overview-item"},[e("div",{staticClass:"trade-overview-label"},[t._v("总订单数")]),e("div",{staticClass:"trade-overview-value"},[t._v(t._s(t.tenant.orders||0))])]),e("div",{staticClass:"trade-overview-item"},[e("div",{staticClass:"trade-overview-label"},[t._v("胜率")]),e("div",{staticClass:"trade-overview-value"},[t._v(t._s(t.fmtPct(t.tenant.winRate,1)))])])])],1),e("el-col",{attrs:{lg:8,md:12}},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"card-header-flex",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("风险指标")]),e("router-link",{attrs:{to:"/trading/analytics"}},[e("el-button",{attrs:{type:"text",size:"mini"}},[t._v("查看")])],1)],1),e("div",{staticClass:"trade-overview-item"},[e("div",{staticClass:"trade-overview-label"},[t._v("夏普比率")]),e("div",{staticClass:"trade-overview-value"},[t._v(t._s(null!==t.tenant.sharpeRatio&&void 0!==t.tenant.sharpeRatio?t.tenant.sharpeRatio.toFixed(2):"-"))])]),e("div",{staticClass:"trade-overview-item"},[e("div",{staticClass:"trade-overview-label"},[t._v("总交易次数")]),e("div",{staticClass:"trade-overview-value"},[t._v(t._s(t.tenant.totalTrades||"-"))])]),e("div",{staticClass:"trade-overview-item"},[e("div",{staticClass:"trade-overview-label"},[t._v("日收益")]),e("div",{staticClass:"trade-overview-value",class:t.tenant.dailyPnl>=0?"text-success":"text-danger"},[t._v(" "+t._s(null!==t.tenant.dailyPnl&&void 0!==t.tenant.dailyPnl?t.tenant.dailyPnl.toFixed(2):"-")+" ")])])])],1)],1)],1)},n=[],i=(e("0643"),e("fffc"),e("de2b")),r=e("8012"),l=e("7cf8"),o=e("50fc"),c={name:"Workplace",data(){return{loading:!0,defaultAvatar:e("cf05"),platform:{total_tenants:0,active_tenants:0,total_users:0,total_orders:0,total_nodes:0,online_nodes:0,active_bindings:0},tenant:{orders:0,positions:0,equity:null,totalReturn:null,dailyPnl:null,maxDrawdown:null,sharpeRatio:null,totalTrades:null,winRate:null},services:{data_api:!1,signal_monitor:!1,database:!1},recentSignals:[]}},computed:{loginUser(){return this.$store.state.user.user||{}},systemHealthy(){return this.services.data_api&&this.services.database&&this.services.signal_monitor},perfItems(){return[{label:"累计收益率",value:this.fmtPct(this.tenant.totalReturn),cls:this.tenant.totalReturn>=0?"text-success":"text-danger"},{label:"日收益",value:null!==this.tenant.dailyPnl&&void 0!==this.tenant.dailyPnl?this.tenant.dailyPnl.toFixed(2):"-",cls:this.tenant.dailyPnl>=0?"text-success":"text-danger"},{label:"最大回撤",value:this.fmtPct(this.tenant.maxDrawdown),cls:"text-danger"},{label:"夏普比率",value:null!==this.tenant.sharpeRatio&&void 0!==this.tenant.sharpeRatio?this.tenant.sharpeRatio.toFixed(2):"-"},{label:"总交易",value:this.tenant.totalTrades||"-"},{label:"胜率",value:this.fmtPct(this.tenant.winRate,1)}]}},mounted(){this.fetchData()},methods:{formatMoney(t){return null===t||void 0===t?"0.00":parseFloat(t||0).toFixed(2)},fmtPct(t,a){return null===t||void 0===t?"-":(100*t).toFixed(a||2)+"%"},signalTagType(t){const a={CREATED:"",DISPATCHED:"warning",EXECUTED:"success",FAILED:"danger"};return a[(t||"").toUpperCase()]||"info"},signalDetail(t){try{const a="string"===typeof t.detail?JSON.parse(t.detail):t.detail||{},e=[];return a.strategy&&e.push(a.strategy),a.symbol&&e.push(a.symbol),a.side&&e.push(a.side),t.source&&e.push(t.source),e.join(" · ")||t.detail||"-"}catch(a){return t.detail||"-"}},async fetchData(){this.loading=!0;try{const[t,a,e,s,n,c]=await Promise.allSettled([Object(i["a"])(),Object(r["d"])({limit:1}),Object(r["e"])({limit:1}),Object(i["b"])().catch(()=>null),Object(l["b"])().catch(()=>null),Object(o["l"])({page_size:8}).catch(()=>null)]);if("fulfilled"===t.status&&t.value&&t.value.data){const a=t.value.data.data||t.value.data;Object.assign(this.platform,a)}if("fulfilled"===a.status&&a.value&&(this.tenant.orders=a.value.data.total||0),"fulfilled"===e.status&&e.value&&(this.tenant.positions=e.value.data.total||0),"fulfilled"===s.status&&s.value&&s.value.data){const t=s.value.data.data?s.value.data.data.summary:null;t&&(this.tenant.equity=t.current_equity,this.tenant.totalReturn=t.total_return,this.tenant.dailyPnl=t.daily_pnl,this.tenant.maxDrawdown=t.max_drawdown,this.tenant.sharpeRatio=t.sharpe_ratio,this.tenant.totalTrades=t.total_trades,this.tenant.winRate=t.win_rate)}if("fulfilled"===n.status&&n.value&&n.value.data){const t=n.value.data.data||n.value.data,a=t.services||[],e=t=>{const e=a.find(a=>a.name===t);return!!e&&!!e.healthy};this.services={data_api:e("data-api"),signal_monitor:e("signal-monitor"),database:!(!t.db||!t.db.mysql_ok)}}if("fulfilled"===c.status&&c.value&&c.value.data){const t=c.value.data;this.recentSignals=(t.data||t.events||[]).slice(0,8)}}catch(t){console.error(t)}finally{this.loading=!1}}}},d=c,u=(e("00e8"),e("2877")),v=Object(u["a"])(d,s,n,!1,null,"5cd43558",null);a["default"]=v.exports},de2b:function(t,a,e){"use strict";e.d(a,"a",(function(){return r})),e.d(a,"b",(function(){return l})),e.d(a,"c",(function(){return o})),e.d(a,"d",(function(){return c}));var s=e("bc3a"),n=e.n(s);let i={tenant_id:parseInt(localStorage.getItem("ironbull_tenant_id"))||1};function r(){return n.a.get("/dashboard/summary")}function l(t={}){return n.a.get("/analytics/performance",{params:{...i,...t}})}function o(t={}){return n.a.get("/analytics/risk",{params:{...i,...t}})}function c(t={}){return n.a.get("/analytics/statistics",{params:{...i,limit:20,...t}})}}}]);