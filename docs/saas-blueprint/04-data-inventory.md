# æ—§ç³»ç»Ÿè¡¨è¯­ä¹‰æ˜ å°„ï¼ˆç›˜ç‚¹ç‰ˆï¼‰

æœ¬æ–‡æ¡£ä¸ºè§„åˆ’é˜¶æ®µäº§å‡ºï¼Œéµå¾ª `docs/PLANNING_ONLY.md` çš„å…¨å±€çº¦æŸï¼šä»…è¾“å‡ºè¡¨è¯­ä¹‰å½’ç±»ä¸å£å¾„é£é™©åˆ†æï¼Œä¸æ¶‰åŠä»»ä½•è¡¨è®¾è®¡ã€è¿ç§»æ–¹æ¡ˆæˆ–ä»£ç å®ç°ã€‚

**æ–‡æ¡£çŠ¶æ€**ï¼šåŸºäº SQL æ–‡ä»¶å®¡è®¡å®Œæˆï¼ˆ2026-02-05ï¼‰

**å®¡è®¡èŒƒå›´**ï¼š
- `_legacy_readonly/old1/trade_*.sql` â€” å›æµ‹ç³»ç»Ÿ
- `_legacy_readonly/old2/tradecore_*.sql` â€” äº¤æ˜“æ ¸å¿ƒç³»ç»Ÿ
- `_legacy_readonly/old3/quanttrade.sql` â€” é‡åŒ–è·Ÿå•ç³»ç»Ÿ

---

## ä¸€ã€è¡¨è¯­ä¹‰å½’ç±»è¡¨

### 1.1 old1ï¼ˆtrade æ•°æ®åº“ï¼‰â€” 15 å¼ è¡¨

| åºå· | è¡¨å | å½’å±èƒ½åŠ›åŸŸ | è¯­ä¹‰æè¿° | ç½®ä¿¡åº¦ | é£é™©æ ‡æ³¨ |
|------|------|------------|----------|--------|----------|
| 1 | `backtest_equity` | Backtest | å›æµ‹æƒç›Šæ›²çº¿ï¼ˆæŒ‰ K çº¿åºå·å­˜å‚¨ equity å€¼ï¼‰ | é«˜ | - |
| 2 | `backtest_fills` | Backtest | å›æµ‹æˆäº¤è®°å½•ï¼ˆside/price/fee/spreadï¼‰ | é«˜ | - |
| 3 | `backtest_metrics` | Backtest | å›æµ‹æŒ‡æ ‡æ±‡æ€»ï¼ˆtotal_return/mdd/win_rateï¼‰ | é«˜ | - |
| 4 | `backtest_orders` | Backtest | å›æµ‹æŒ‚å•è®°å½•ï¼ˆè®¢å•çŠ¶æ€/ä»·æ ¼/TIFï¼‰ | é«˜ | - |
| 5 | `backtest_runs` | Backtest | å›æµ‹ä»»åŠ¡è®°å½•ï¼ˆç­–ç•¥/å‚æ•°/æ—¶é—´åŒºé—´ï¼‰ | é«˜ | - |
| 6 | `backtest_signals` | Signal | å›æµ‹ä¿¡å·è®°å½•ï¼ˆä¿¡å· ID/æ–¹å‘/çŠ¶æ€ï¼‰ | é«˜ | - |
| 7 | `backtest_trades` | Backtest | å›æµ‹äº¤æ˜“è®°å½•ï¼ˆentry/stop/tp/pnlï¼‰ | é«˜ | - |
| 8 | `candles` | MarketData | K çº¿æ•°æ®ï¼ˆåŸå§‹æ ¼å¼ï¼Œå·²å¼ƒç”¨ï¼‰ | ä¸­ | ä¸ trade_klines é‡å¤ |
| 9 | `trade_config_items` | Other | äº¤æ˜“é…ç½®é¡¹ | ä¸­ | - |
| 10 | `trade_klines` | MarketData | K çº¿æ•°æ® | é«˜ | - |
| 11 | `trade_klines_unified` | MarketData | ç»Ÿä¸€ K çº¿æ•°æ®ï¼ˆè·¨æ ‡çš„/å‘¨æœŸï¼‰ | é«˜ | - |
| 12 | `trade_orders_live` | OrderTrade | **å®ç›˜è®¢å•** | é«˜ | âš ï¸ äº‹å®æ¥æº |
| 13 | `trade_positions_live` | Position | **å®ç›˜æŒä»“** | é«˜ | âš ï¸ äº‹å®æ¥æº |
| 14 | `trade_runtime_state` | Other | è¿è¡Œæ—¶çŠ¶æ€ï¼ˆç­–ç•¥æ‰§è¡ŒçŠ¶æ€ï¼‰ | ä¸­ | - |
| 15 | `trade_signals` | Signal | äº¤æ˜“ä¿¡å· | é«˜ | - |

**old1 èƒ½åŠ›è¦†ç›–å°ç»“**ï¼š
- âœ… è¦†ç›–ï¼šBacktestï¼ˆå®Œæ•´ï¼‰ã€MarketDataï¼ˆKçº¿ï¼‰ã€Signal
- âš ï¸ å­˜åœ¨ï¼šOrderTradeã€Positionï¼ˆå®ç›˜ç›¸å…³ï¼‰
- âŒ ç¼ºå¤±ï¼šExecutionï¼ˆæ— é€šé“æŠ½è±¡ï¼‰ã€Ledgerï¼ˆæ— èµ„é‡‘è¡¨ï¼‰ã€Analyticsï¼ˆæ— ç‹¬ç«‹åˆ†æè¡¨ï¼‰

---

### 1.2 old2ï¼ˆtradecore æ•°æ®åº“ï¼‰â€” 60 å¼ è¡¨

| åºå· | è¡¨å | å½’å±èƒ½åŠ›åŸŸ | è¯­ä¹‰æè¿° | ç½®ä¿¡åº¦ | é£é™©æ ‡æ³¨ |
|------|------|------------|----------|--------|----------|
| 1 | `think_action_log*` | Other | æ“ä½œæ—¥å¿—ï¼ˆæŒ‰æœˆåˆ†è¡¨ï¼‰ | é«˜ | - |
| 2 | `think_alert_history` | Other | å‘Šè­¦å†å² | é«˜ | - |
| 3 | `think_alert_log` | Other | å‘Šè­¦æ—¥å¿— | é«˜ | - |
| 4 | `think_alert_rule` | Other | å‘Šè­¦è§„åˆ™ | é«˜ | - |
| 5 | `think_api_log` | Other | API è°ƒç”¨æ—¥å¿— | é«˜ | - |
| 6 | `think_api_token` | Other | API Token | é«˜ | - |
| 7 | `think_bot_messages` | Other | æœºå™¨äººæ¶ˆæ¯ | ä¸­ | - |
| 8 | `think_bot_subscribers` | Other | æœºå™¨äººè®¢é˜…è€… | ä¸­ | - |
| 9 | `think_cron_log` | Other | å®šæ—¶ä»»åŠ¡æ—¥å¿— | é«˜ | - |
| 10 | `think_cron_task` | Other | å®šæ—¶ä»»åŠ¡ | é«˜ | - |
| 11 | `think_dept` | Other | éƒ¨é—¨ï¼ˆç³»ç»Ÿç®¡ç†ï¼‰ | é«˜ | - |
| 12 | `think_dict` | Other | å­—å…¸ä¸»è¡¨ | é«˜ | - |
| 13 | `think_dict_data` | Other | å­—å…¸æ•°æ® | é«˜ | - |
| 14 | `think_engine_status` | Execution | å¼•æ“çŠ¶æ€ | ä¸­ | - |
| 15 | `think_file` | Other | æ–‡ä»¶ç®¡ç† | é«˜ | - |
| 16 | `think_level` | Other | çº§åˆ«é…ç½® | ä¸­ | - |
| 17 | `think_login_log` | Other | ç™»å½•æ—¥å¿— | é«˜ | - |
| 18 | `think_menu` | Other | èœå• | é«˜ | - |
| 19 | `think_notice_log` | Other | é€šçŸ¥æ—¥å¿— | é«˜ | - |
| 20 | `think_position` | **Other** | **âš ï¸ å²—ä½è¡¨ï¼ˆéäº¤æ˜“æŒä»“ï¼ï¼‰** | é«˜ | å‘½åè¯¯å¯¼ |
| 21 | `think_python_jobs` | Other | Python ä»»åŠ¡ | é«˜ | - |
| 22 | `think_rate_limit*` | Other | é™æµé…ç½® | é«˜ | - |
| 23 | `think_role` | Other | è§’è‰² | é«˜ | - |
| 24 | `think_role_menu` | Other | è§’è‰²èœå• | é«˜ | - |
| 25 | `think_system_job` | Other | ç³»ç»Ÿä»»åŠ¡ | é«˜ | - |
| 26 | `think_system_metrics` | Analytics | ç³»ç»ŸæŒ‡æ ‡ | ä¸­ | - |
| 27 | `think_trade_accounts` | Execution | **äº¤æ˜“è´¦æˆ·**ï¼ˆå« balance/equity/marginï¼‰ | é«˜ | âš ï¸ èµ„é‡‘æ··åœ¨è´¦æˆ·è¡¨ |
| 28 | `think_trade_ai_audit_config` | Other | AI å®¡è®¡é…ç½® | ä¸­ | - |
| 29 | `think_trade_audit_log` | Other | å®¡è®¡æ—¥å¿— | é«˜ | - |
| 30 | `think_trade_audit_rule` | Other | å®¡è®¡è§„åˆ™ | é«˜ | - |
| 31 | `think_trade_backtest` | Backtest | å›æµ‹é…ç½® | é«˜ | - |
| 32 | `think_trade_backtest_metrics` | Backtest | å›æµ‹æŒ‡æ ‡ | é«˜ | - |
| 33 | `think_trade_backtest_optimize` | Backtest | å›æµ‹ä¼˜åŒ– | é«˜ | - |
| 34 | `think_trade_backtest_run` | Backtest | å›æµ‹è¿è¡Œ | é«˜ | - |
| 35 | `think_trade_backtest_trades` | Backtest | å›æµ‹äº¤æ˜“ | é«˜ | - |
| 36 | `think_trade_calendar` | MarketData | äº¤æ˜“æ—¥å† | é«˜ | - |
| 37 | `think_trade_config` | Other | äº¤æ˜“é…ç½® | é«˜ | - |
| 38 | `think_trade_klines` | MarketData | K çº¿æ•°æ® | é«˜ | - |
| 39 | `think_trade_ocr_orders` | OrderTrade | OCR è®¢å•ï¼ˆå›¾ç‰‡è¯†åˆ«ï¼‰ | ä½ | ç‰¹æ®Šæ¥æº |
| 40 | `think_trade_open_orders` | OrderTrade | å¼€æ”¾è®¢å• | é«˜ | - |
| 41 | `think_trade_order_advanced` | OrderTrade | é«˜çº§è®¢å•é…ç½® | ä¸­ | - |
| 42 | `think_trade_orders` | OrderTrade | **è®¢å•è¡¨** | é«˜ | âš ï¸ äº‹å®æ¥æº |
| 43 | `think_trade_platform_config` | Execution | å¹³å°é…ç½® | é«˜ | - |
| 44 | `think_trade_positions` | Position | **æŒä»“è¡¨** | é«˜ | âš ï¸ äº‹å®æ¥æº |
| 45 | `think_trade_risk_log` | Other | é£æ§æ—¥å¿— | é«˜ | - |
| 46 | `think_trade_session` | Other | äº¤æ˜“ä¼šè¯ | ä¸­ | - |
| 47 | `think_trade_signal` | Signal | äº¤æ˜“ä¿¡å· | é«˜ | - |
| 48 | `think_trade_strategy` | Strategy | ç­–ç•¥å®šä¹‰ | é«˜ | - |
| 49 | `think_trade_strategy_metrics` | Analytics | ç­–ç•¥æŒ‡æ ‡ | é«˜ | - |
| 50 | `think_trade_strategy_param_tpl` | Strategy | ç­–ç•¥å‚æ•°æ¨¡æ¿ | é«˜ | - |
| 51 | `think_trade_symbols` | MarketData | æ ‡çš„ä¸»æ•°æ® | é«˜ | - |
| 52 | `think_user` | Other | ç”¨æˆ· | é«˜ | - |
| 53 | `think_user_role` | Other | ç”¨æˆ·è§’è‰² | é«˜ | - |
| 54 | `think_windows_status` | Other | Windows çŠ¶æ€ | ä½ | - |
| 55 | `think_ws_events` | Other | WebSocket äº‹ä»¶ | ä¸­ | - |

**old2 èƒ½åŠ›è¦†ç›–å°ç»“**ï¼š
- âœ… è¦†ç›–ï¼šStrategyã€MarketDataã€Signalã€Backtestã€OrderTradeã€Position
- âš ï¸ é—®é¢˜ï¼šLedger ç¼ºå¤±ï¼ˆèµ„é‡‘å­—æ®µæ··åœ¨ `think_trade_accounts` è¡¨ä¸­ï¼‰
- âŒ ç¼ºå¤±ï¼šç‹¬ç«‹ Ledgerï¼ˆæ— èµ„é‡‘æµæ°´è¡¨ï¼‰ã€ç‹¬ç«‹ Execution é€šé“æŠ½è±¡

---

### 1.3 old3ï¼ˆquanttrade æ•°æ®åº“ï¼‰â€” 135+ å¼ è¡¨

| åºå· | è¡¨å | å½’å±èƒ½åŠ›åŸŸ | è¯­ä¹‰æè¿° | ç½®ä¿¡åº¦ | é£é™©æ ‡æ³¨ |
|------|------|------------|----------|--------|----------|
| 1 | `think_account_balance_history` | Ledger | è´¦æˆ·ä½™é¢å†å² | é«˜ | - |
| 2 | `think_account_snapshot` | Ledger | è´¦æˆ·å¿«ç…§ï¼ˆbalance/margin/equityï¼‰ | é«˜ | - |
| 3 | `think_account_statistics` | Analytics | è´¦æˆ·ç»Ÿè®¡ï¼ˆprofit/win_rate/drawdownï¼‰ | é«˜ | - |
| 4 | `think_agent*` | Other | ä»£ç†å•†ç›¸å…³ï¼ˆ6 å¼ è¡¨ï¼‰ | é«˜ | ä¸šåŠ¡ç‰¹æœ‰ |
| 5 | `think_alert_rule` | Other | å‘Šè­¦è§„åˆ™ | é«˜ | - |
| 6 | `think_announcement` | Other | å…¬å‘Š | é«˜ | - |
| 7 | `think_api_*` | Other | API ç›¸å…³ï¼ˆ5 å¼ è¡¨ï¼‰ | é«˜ | - |
| 8 | `think_backtest_equity` | Backtest | å›æµ‹æƒç›Š | é«˜ | - |
| 9 | `think_backtest_result` | Backtest | å›æµ‹ç»“æœ | é«˜ | - |
| 10 | `think_backtest_task` | Backtest | å›æµ‹ä»»åŠ¡ | é«˜ | - |
| 11 | `think_backtest_trade` | Backtest | å›æµ‹äº¤æ˜“ | é«˜ | - |
| 12 | `think_coin_*` | MarketData | å¸ç§ç›¸å…³ï¼ˆ3 å¼ è¡¨ï¼‰ | é«˜ | - |
| 13 | `think_company_income` | Ledger | å…¬å¸æ”¶å…¥ | é«˜ | ä¸šåŠ¡ç‰¹æœ‰ |
| 14 | `think_daily_loss_log` | Analytics | æ¯æ—¥äºæŸæ—¥å¿— | é«˜ | - |
| 15 | `think_exchange_account` | Execution | **äº¤æ˜“æ‰€è´¦æˆ·**ï¼ˆå« balance/available/frozenï¼‰ | é«˜ | âš ï¸ èµ„é‡‘æ··åœ¨è´¦æˆ·è¡¨ |
| 16 | `think_follow_*` | Other | è·Ÿå•ç›¸å…³ï¼ˆ10+ å¼ è¡¨ï¼‰ | é«˜ | ä¸šåŠ¡ç‰¹æœ‰ |
| 17 | `think_funding_rate*` | MarketData | èµ„é‡‘è´¹ç‡ï¼ˆ3 å¼ è¡¨ï¼‰ | é«˜ | - |
| 18 | `think_hedge_group` | Strategy | å¯¹å†²ç»„ | é«˜ | - |
| 19 | `think_indicator_*` | Signal | æŒ‡æ ‡ç›¸å…³ï¼ˆ3 å¼ è¡¨ï¼‰ | é«˜ | - |
| 20 | `think_klines_unified` | MarketData | ç»Ÿä¸€ K çº¿ | é«˜ | - |
| 21 | `think_leader_*` | Other | å¸¦å•å‘˜ç›¸å…³ï¼ˆ6 å¼ è¡¨ï¼‰ | é«˜ | ä¸šåŠ¡ç‰¹æœ‰ |
| 22 | `think_member*` | Other | ä¼šå‘˜ç›¸å…³ï¼ˆ6 å¼ è¡¨ï¼‰ | é«˜ | - |
| 23 | `think_member_wallet` | Ledger | **ç”¨æˆ·é’±åŒ…**ï¼ˆbalance/frozen_balanceï¼‰ | é«˜ | âš ï¸ äº‹å®æ¥æº |
| 24 | `think_order_batch_relation` | OrderTrade | è®¢å•æ‰¹æ¬¡å…³ç³» | é«˜ | - |
| 25 | `think_paper_*` | Backtest | æ¨¡æ‹Ÿç›˜ç›¸å…³ï¼ˆ4 å¼ è¡¨ï¼‰ | é«˜ | - |
| 26 | `think_performance_metrics` | Analytics | ç»©æ•ˆæŒ‡æ ‡ | é«˜ | - |
| 27 | `think_point_card_log` | Ledger | ç‚¹å¡æ—¥å¿— | é«˜ | ä¸šåŠ¡ç‰¹æœ‰ |
| 28 | `think_position` | Position | **æŒä»“è¡¨** | é«˜ | âš ï¸ äº‹å®æ¥æº |
| 29 | `think_position_alert_config` | Other | æŒä»“é¢„è­¦é…ç½® | é«˜ | - |
| 30 | `think_position_change_history` | Position | **æŒä»“å˜åŒ–å†å²** | é«˜ | âš ï¸ å®¡è®¡æ¥æº |
| 31 | `think_position_log` | Position | æŒä»“æ“ä½œæ—¥å¿— | é«˜ | - |
| 32 | `think_position_snapshot` | Position | æŒä»“å¿«ç…§ | é«˜ | - |
| 33 | `think_profit_record` | Ledger | åˆ©æ¶¦è®°å½• | é«˜ | - |
| 34 | `think_risk_*` | Other | é£æ§ç›¸å…³ï¼ˆ5 å¼ è¡¨ï¼‰ | é«˜ | - |
| 35 | `think_settlement*` | Ledger | ç»“ç®—ç›¸å…³ï¼ˆ3 å¼ è¡¨ï¼‰ | é«˜ | - |
| 36 | `think_signal_*` | Signal | ä¿¡å·ç›¸å…³ï¼ˆ10 å¼ è¡¨ï¼‰ | é«˜ | - |
| 37 | `think_strategy*` | Strategy | ç­–ç•¥ç›¸å…³ï¼ˆ10+ å¼ è¡¨ï¼‰ | é«˜ | - |
| 38 | `think_symbol_config` | MarketData | æ ‡çš„é…ç½® | é«˜ | - |
| 39 | `think_trade_calendar` | MarketData | äº¤æ˜“æ—¥å† | é«˜ | - |
| 40 | `think_trade_journal` | Analytics | äº¤æ˜“æ—¥å¿— | é«˜ | - |
| 41 | `think_trade_log` | OrderTrade | äº¤æ˜“æ—¥å¿— | é«˜ | - |
| 42 | `think_trade_order` | OrderTrade | **äº¤æ˜“è®¢å•** | é«˜ | âš ï¸ äº‹å®æ¥æº |
| 43 | `think_trade_signal` | Signal | äº¤æ˜“ä¿¡å· | é«˜ | - |
| 44 | `think_trading_batch` | OrderTrade | äº¤æ˜“æ‰¹æ¬¡ | é«˜ | - |
| 45 | `think_trailing_stop` | Strategy | ç§»åŠ¨æ­¢æŸ | é«˜ | - |
| 46 | `think_wallet_bill` | Ledger | **é’±åŒ…è´¦å•**ï¼ˆèµ„é‡‘æµæ°´ï¼‰ | é«˜ | âš ï¸ äº‹å®æ¥æº |
| 47 | `think_withdraw_*` | Ledger | æç°ç›¸å…³ï¼ˆ2 å¼ è¡¨ï¼‰ | é«˜ | - |

**old3 èƒ½åŠ›è¦†ç›–å°ç»“**ï¼š
- âœ… è¦†ç›–ï¼šå…¨éƒ¨ 9 ä¸ªèƒ½åŠ›åŸŸå‡æœ‰æ¶‰åŠ
- âš ï¸ é—®é¢˜ï¼šLedger åˆ†æ•£ï¼ˆwallet/account_snapshot/settlement ç­‰å¤šå¼ è¡¨ï¼‰
- âš ï¸ é—®é¢˜ï¼šOrderTrade åªæœ‰è®¢å•è¡¨ï¼Œç¼ºå°‘ç‹¬ç«‹æˆäº¤è¡¨

---

## äºŒã€Order â†’ Trade â†’ Position â†’ Ledger é“¾è·¯å®¡è®¡

### 2.1 old1 é“¾è·¯æ–­ç‚¹æ£€æŸ¥

| ç¯èŠ‚ | å€™é€‰è¡¨ | çŠ¶æ€ | é£é™©è¯„ä¼° |
|------|--------|------|----------|
| è®¢å•è¡¨ | `trade_orders_live` | âœ… å­˜åœ¨ | å­—æ®µéœ€ç¡®è®¤ |
| **æˆäº¤è¡¨** | **ç¼ºå¤±** | âŒ **æ–­è£‚** | **æ— ç‹¬ç«‹æˆäº¤è¡¨ï¼Œæˆäº¤å¯èƒ½å†…åµŒåœ¨è®¢å•ä¸­** |
| æŒä»“è¡¨ | `trade_positions_live` | âœ… å­˜åœ¨ | å­—æ®µéœ€ç¡®è®¤ |
| èµ„é‡‘ä½™é¢è¡¨ | **ç¼ºå¤±** | âŒ **æ–­è£‚** | **æ— èµ„é‡‘è¡¨** |
| èµ„é‡‘æµæ°´è¡¨ | **ç¼ºå¤±** | âŒ **æ–­è£‚** | **æ— æµæ°´è¡¨** |

**é“¾è·¯å®Œæ•´æ€§**ï¼šğŸ”´ **ä¸¥é‡æ–­è£‚**
- ç¼ºå°‘æˆäº¤è¡¨ï¼Œæ— æ³•éªŒè¯"æˆäº¤â†’æŒä»“"ä¸€è‡´æ€§
- ç¼ºå°‘ Ledgerï¼Œèµ„é‡‘çŠ¶æ€ä¸å¯è¿½æº¯
- **ç»“è®º**ï¼šold1 ä»…é€‚ç”¨äºå›æµ‹åœºæ™¯ï¼Œå®ç›˜é“¾è·¯ä¸å¯ä¿¡

---

### 2.2 old2 é“¾è·¯æ–­ç‚¹æ£€æŸ¥

| ç¯èŠ‚ | å€™é€‰è¡¨ | çŠ¶æ€ | é£é™©è¯„ä¼° |
|------|--------|------|----------|
| è®¢å•è¡¨ | `think_trade_orders` | âœ… å­˜åœ¨ | status ä¸ºå­—ç¬¦ä¸²æšä¸¾ï¼ˆpending/filled/cancelled/failedï¼‰ |
| **æˆäº¤è¡¨** | **ç¼ºå¤±** | âŒ **æ–­è£‚** | **æ— ç‹¬ç«‹æˆäº¤è¡¨ï¼Œæˆäº¤ä¿¡æ¯åœ¨è®¢å•ä¸­ï¼ˆfilled/avg_price/feeï¼‰** |
| æŒä»“è¡¨ | `think_trade_positions` | âœ… å­˜åœ¨ | æœ‰ unrealized_pnlï¼Œæ— å†»ç»“æ•°é‡ |
| èµ„é‡‘ä½™é¢è¡¨ | `think_trade_accounts.balance/equity/margin` | âš ï¸ **æ··åˆ** | **èµ„é‡‘å­—æ®µæ··åœ¨è´¦æˆ·è¡¨ä¸­ï¼Œéç‹¬ç«‹è¡¨** |
| èµ„é‡‘æµæ°´è¡¨ | **ç¼ºå¤±** | âŒ **æ–­è£‚** | **æ— èµ„é‡‘æµæ°´è¡¨** |

**é“¾è·¯å®Œæ•´æ€§**ï¼šğŸŸ  **éƒ¨åˆ†æ–­è£‚**
- æˆäº¤å†…åµŒåœ¨è®¢å•ä¸­ï¼Œéƒ¨åˆ†æˆäº¤å¤„ç†ä¸å¯è§
- èµ„é‡‘æ— æµæ°´ï¼Œä½™é¢å˜åŠ¨ä¸å¯è¿½æº¯
- **ç»“è®º**ï¼šold2 è®¢å•/æŒä»“å¯å‚è€ƒï¼ŒLedger é“¾è·¯ä¸å¯ä¿¡

---

### 2.3 old3 é“¾è·¯æ–­ç‚¹æ£€æŸ¥

| ç¯èŠ‚ | å€™é€‰è¡¨ | çŠ¶æ€ | é£é™©è¯„ä¼° |
|------|--------|------|----------|
| è®¢å•è¡¨ | `think_trade_order` | âœ… å­˜åœ¨ | status æ•°å­—æšä¸¾ï¼ˆ1å¾…æˆäº¤/2éƒ¨åˆ†æˆäº¤/3å·²æˆäº¤/4å·²å–æ¶ˆ/5å·²æ‹’ç»ï¼‰ |
| **æˆäº¤è¡¨** | **ç¼ºå¤±** | âŒ **æ–­è£‚** | **æ— ç‹¬ç«‹æˆäº¤è¡¨ï¼Œfilled_quantity/avg_price åœ¨è®¢å•ä¸­** |
| æŒä»“è¡¨ | `think_position` | âœ… å­˜åœ¨ | æœ‰ realized_pnl/unrealized_pnlï¼Œæ— å†»ç»“æ•°é‡å­—æ®µ |
| æŒä»“å˜åŒ–å†å² | `think_position_change_history` | âœ… å­˜åœ¨ | è®°å½•å¼€ä»“/åŠ ä»“/å‡ä»“/å¹³ä»“ï¼Œå¯ä½œä¸ºå®¡è®¡æ¥æº |
| èµ„é‡‘ä½™é¢è¡¨ | `think_exchange_account` + `think_member_wallet` | âš ï¸ **åˆ†æ•£** | äº¤æ˜“æ‰€ä½™é¢ä¸å¹³å°é’±åŒ…åˆ†å¼€ |
| èµ„é‡‘æµæ°´è¡¨ | `think_wallet_bill` | âœ… å­˜åœ¨ | æœ‰ balance_before/balance_after/type/source |

**é“¾è·¯å®Œæ•´æ€§**ï¼šğŸŸ¡ **éƒ¨åˆ†å¯ç”¨**
- ç¼ºå°‘ç‹¬ç«‹æˆäº¤è¡¨ï¼Œéƒ¨åˆ†æˆäº¤/å¤šæ¬¡æˆäº¤æ— æ³•ç²¾ç¡®è¿½æº¯
- æŒä»“å˜åŒ–å†å²å¯è¡¥å¿éƒ¨åˆ†å®¡è®¡éœ€æ±‚
- Ledger å­˜åœ¨ä½†åˆ†æ•£ï¼ˆexchange_account vs member_walletï¼‰
- **ç»“è®º**ï¼šold3 é“¾è·¯ç›¸å¯¹å®Œæ•´ï¼Œä½†æˆäº¤ç»†èŠ‚ç¼ºå¤±ï¼ŒLedger éœ€è¦æ•´åˆ

---

### 2.4 é“¾è·¯å®¡è®¡æ€»ç»“

| é¡¹ç›® | è®¢å• | æˆäº¤ | æŒä»“ | èµ„é‡‘ä½™é¢ | èµ„é‡‘æµæ°´ | é“¾è·¯è¯„çº§ |
|------|------|------|------|----------|----------|----------|
| old1 | âœ… | âŒ | âœ… | âŒ | âŒ | ğŸ”´ ä¸¥é‡æ–­è£‚ |
| old2 | âœ… | âŒ | âœ… | âš ï¸æ··åˆ | âŒ | ğŸŸ  éƒ¨åˆ†æ–­è£‚ |
| old3 | âœ… | âŒ | âœ… | âš ï¸åˆ†æ•£ | âœ… | ğŸŸ¡ éƒ¨åˆ†å¯ç”¨ |

**å…³é”®å‘ç°**ï¼š
> âš ï¸ **ä¸‰ä¸ªæ—§ç³»ç»Ÿå‡ç¼ºå°‘ç‹¬ç«‹æˆäº¤è¡¨**
> - æˆäº¤ä¿¡æ¯å†…åµŒåœ¨è®¢å•è¡¨ä¸­ï¼ˆfilled_quantity/avg_priceï¼‰
> - æ— æ³•è¿½æº¯"ä¸€ç¬”è®¢å•å¤šæ¬¡æˆäº¤"çš„æ˜ç»†
> - éƒ¨åˆ†æˆäº¤å¤„ç†é€»è¾‘ä¸å¯è§
> - **è¿™æ˜¯å¹³å°å¿…é¡»é‡å»º OrderTrade èƒ½åŠ›çš„æ ¸å¿ƒåŸå› **

---

## ä¸‰ã€åŒä¹‰è¡¨ / é‡å¤èƒ½åŠ›è¯†åˆ«

### 3.1 è·¨ç³»ç»ŸåŒä¹‰è¡¨å€™é€‰ç»„

| ç»„å· | ç»Ÿä¸€è¯­ä¹‰å | old1 | old2 | old3 | ç½®ä¿¡åº¦ | ç»Ÿä¸€å¯èƒ½æ€§ |
|------|------------|------|------|------|--------|------------|
| G-01 | **order** | `trade_orders_live` | `think_trade_orders` | `think_trade_order` | é«˜ | âš ï¸ å­—æ®µå·®å¼‚å¤§ |
| G-02 | **position** | `trade_positions_live` | `think_trade_positions` | `think_position` | é«˜ | âš ï¸ å­—æ®µå·®å¼‚å¤§ |
| G-03 | **kline** | `trade_klines_unified` | `think_trade_klines` | `think_klines_unified` | é«˜ | âœ… å¯ç»Ÿä¸€ |
| G-04 | **signal** | `trade_signals` | `think_trade_signal` | `think_trade_signal` | é«˜ | âœ… å¯ç»Ÿä¸€ |
| G-05 | **strategy** | - | `think_trade_strategy` | `think_strategy` | é«˜ | âœ… å¯ç»Ÿä¸€ |
| G-06 | **backtest_run** | `backtest_runs` | `think_trade_backtest_run` | `think_backtest_task` | é«˜ | âœ… å¯ç»Ÿä¸€ |
| G-07 | **backtest_trade** | `backtest_trades` | `think_trade_backtest_trades` | `think_backtest_trade` | é«˜ | âœ… å¯ç»Ÿä¸€ |
| G-08 | **account** | - | `think_trade_accounts` | `think_exchange_account` | é«˜ | âš ï¸ å­—æ®µå·®å¼‚å¤§ |
| G-09 | **symbol** | - | `think_trade_symbols` | `think_symbol_config` | ä¸­ | âœ… å¯ç»Ÿä¸€ |
| G-10 | **calendar** | - | `think_trade_calendar` | `think_trade_calendar` | é«˜ | âœ… å¯ç»Ÿä¸€ |
| G-11 | **cash_flow** | - | - | `think_wallet_bill` | é«˜ | old1/old2 ç¼ºå¤± |
| G-12 | **trade (æˆäº¤)** | `backtest_fills` | - | - | é«˜ | ä»… old1 æœ‰ï¼ˆå›æµ‹ç”¨ï¼‰ |

### 3.2 å­—æ®µçº§å·®å¼‚åˆ†æï¼ˆè®¢å•è¡¨ï¼‰

| å­—æ®µ | old1 | old2 | old3 | å·®å¼‚é£é™© |
|------|------|------|------|----------|
| ä¸»é”®ç±»å‹ | æœªçŸ¥ | `int unsigned` | `int unsigned` | ä½ |
| è®¢å•å· | æœªçŸ¥ | `order_id` varchar | `order_no` varchar | âš ï¸ å‘½åä¸åŒ |
| çŠ¶æ€æšä¸¾ | ä¸­æ–‡ï¼ˆå·²æˆäº¤ï¼‰ | è‹±æ–‡ï¼ˆpending/filledï¼‰ | æ•°å­—ï¼ˆ1/2/3/4/5ï¼‰ | ğŸ”´ **é«˜é£é™©** |
| æˆäº¤æ•°é‡ | æœªçŸ¥ | `filled` | `filled_quantity` | âš ï¸ å‘½åä¸åŒ |
| æ—¶é—´æˆ³ç±»å‹ | æœªçŸ¥ | `int` | `int unsigned` | ä½ |
| è´¦æˆ·å…³è” | æœªçŸ¥ | `account_id` | `account_id` + `member_id` | âš ï¸ å…³è”æ–¹å¼ä¸åŒ |

### 3.3 å­—æ®µçº§å·®å¼‚åˆ†æï¼ˆæŒä»“è¡¨ï¼‰

| å­—æ®µ | old1 | old2 | old3 | å·®å¼‚é£é™© |
|------|------|------|------|----------|
| æ–¹å‘è¡¨ç¤º | æœªçŸ¥ | `side` (BUY/SELL) | `side` (1/2) + `position_side` (LONG/SHORT) | ğŸ”´ **é«˜é£é™©** |
| æ•°é‡å­—æ®µ | æœªçŸ¥ | `volume` | `quantity` | âš ï¸ å‘½åä¸åŒ |
| æˆæœ¬ä»· | æœªçŸ¥ | `entry_price` | `entry_price` | ä½ |
| å†»ç»“æ•°é‡ | æœªçŸ¥ | **æ— ** | **æ— ** | ğŸ”´ **ç¼ºå¤±** |
| PnL | æœªçŸ¥ | `unrealized_pnl` | `unrealized_pnl` + `realized_pnl` | âš ï¸ å£å¾„ä¸åŒ |

---

## å››ã€é«˜é£é™©å£å¾„é›·åŒºæ¸…å•

åŸºäºè¡¨ç»“æ„å®¡è®¡ï¼Œä»¥ä¸‹å£å¾„/è§„åˆ™å­˜åœ¨é«˜é£é™©ï¼š

### 4.1 è®¢å•çŠ¶æ€æšä¸¾æ··ä¹± ğŸ”´ æé«˜é£é™©

| é¡¹ç›® | çŠ¶æ€å®šä¹‰ | å€¼ç±»å‹ |
|------|----------|--------|
| old1 | å·²æˆäº¤ã€å¾…æˆäº¤... | ä¸­æ–‡å­—ç¬¦ä¸² |
| old2 | pending/filled/cancelled/failed | è‹±æ–‡å­—ç¬¦ä¸² |
| old3 | 1å¾…æˆäº¤/2éƒ¨åˆ†æˆäº¤/3å·²æˆäº¤/4å·²å–æ¶ˆ/5å·²æ‹’ç» | æ•°å­— |

**é£é™©**ï¼š
- ä¸‰å¥—çŠ¶æ€æœºå®Œå…¨ä¸å…¼å®¹
- old2 æ— "éƒ¨åˆ†æˆäº¤"çŠ¶æ€ï¼ˆåªæœ‰ pending/filledï¼‰
- old3 æœ‰ 5 ç§çŠ¶æ€ï¼Œold2 åªæœ‰ 4 ç§
- **å½±å“èƒ½åŠ›åŸŸ**ï¼šOrderTradeã€Positionã€Ledgerã€Analytics

---

### 4.2 éƒ¨åˆ†æˆäº¤å¤„ç† ğŸ”´ æé«˜é£é™©

| é¡¹ç›® | éƒ¨åˆ†æˆäº¤è¡¨ç¤º | é—®é¢˜ |
|------|--------------|------|
| old1 | æœªçŸ¥ | - |
| old2 | æ— "éƒ¨åˆ†æˆäº¤"çŠ¶æ€ï¼Œåªæœ‰ filled å­—æ®µ | **æ— æ³•åŒºåˆ†"éƒ¨åˆ†æˆäº¤ä¸­"ä¸"å…¨éƒ¨æˆäº¤"** |
| old3 | status=2 è¡¨ç¤ºéƒ¨åˆ†æˆäº¤ | ç›¸å¯¹å®Œæ•´ |

**é£é™©**ï¼š
- old2 éƒ¨åˆ†æˆäº¤åçŠ¶æ€ä»ä¸º"pending"è¿˜æ˜¯"filled"ä¸æ˜ç¡®
- ç¼ºå°‘æˆäº¤è¡¨å¯¼è‡´å¤šæ¬¡æˆäº¤æ˜ç»†ä¸å¯è¿½æº¯
- **å½±å“èƒ½åŠ›åŸŸ**ï¼šOrderTradeã€Positionã€Ledger

---

### 4.3 æˆäº¤è¡¨ç¼ºå¤± ğŸ”´ æé«˜é£é™©

**äº‹å®**ï¼š
- old1ï¼š`backtest_fills` ä»…ç”¨äºå›æµ‹ï¼Œå®ç›˜æ— æˆäº¤è¡¨
- old2ï¼šæ— ç‹¬ç«‹æˆäº¤è¡¨
- old3ï¼šæ— ç‹¬ç«‹æˆäº¤è¡¨

**é£é™©**ï¼š
- æ— æ³•è¿½æº¯"ä¸€ç¬”è®¢å•å¤šæ¬¡æˆäº¤"çš„æ—¶é—´ã€ä»·æ ¼ã€æ•°é‡æ˜ç»†
- æˆäº¤æ‰‹ç»­è´¹å¯èƒ½ç»Ÿè®¡ä¸å‡†ç¡®
- éƒ¨åˆ†æˆäº¤çš„æˆæœ¬è®¡ç®—å¯èƒ½é”™è¯¯
- **å½±å“èƒ½åŠ›åŸŸ**ï¼šOrderTradeï¼ˆç›´æ¥ï¼‰ã€Positionï¼ˆæˆæœ¬ï¼‰ã€Ledgerï¼ˆè´¹ç”¨ï¼‰ã€Analyticsï¼ˆå½’å› ï¼‰

---

### 4.4 èµ„é‡‘å†»ç»“/é‡Šæ”¾æœºåˆ¶ ğŸ”´ æé«˜é£é™©

| é¡¹ç›® | å†»ç»“å­—æ®µ | é‡Šæ”¾é€»è¾‘ |
|------|----------|----------|
| old1 | **æ— ** | æ—  |
| old2 | `think_trade_accounts.margin`ï¼ˆä»…ä¿è¯é‡‘ï¼‰ | ä¸æ˜ç¡® |
| old3 | `think_exchange_account.frozen_balance` | ä¸æ˜ç¡® |

**é£é™©**ï¼š
- old1 å®Œå…¨æ— èµ„é‡‘ç®¡ç†
- old2/old3 å†»ç»“ä¸è®¢å•ç”Ÿå‘½å‘¨æœŸçš„è”åŠ¨ä¸æ˜ç¡®
- æ’¤å•åå†»ç»“æ˜¯å¦é‡Šæ”¾ä¸å¯çŸ¥
- **å½±å“èƒ½åŠ›åŸŸ**ï¼šLedgerã€Execution

---

### 4.5 fee è®¡å…¥æ–¹å¼ ğŸŸ  é«˜é£é™©

| é¡¹ç›® | fee å­—æ®µä½ç½® | é—®é¢˜ |
|------|--------------|------|
| old1 | `backtest_fills.fee`ï¼ˆå›æµ‹ï¼‰ | ä»…å›æµ‹ |
| old2 | `think_trade_orders.fee` | åœ¨è®¢å•è¡¨ï¼Œæ˜¯å¦æ‰£å‡ä½™é¢ä¸æ˜ç¡® |
| old3 | `think_trade_order.fee` + `think_wallet_bill.type='fee'` | æœ‰æµæ°´ï¼Œä½†å£å¾„éœ€ç¡®è®¤ |

**é£é™©**ï¼š
- fee æ˜¯å¦å½±å“ filled_amount ä¸æ˜ç¡®
- fee æ˜¯å¦ç”Ÿæˆæµæ°´ä¸ä¸€è‡´
- **å½±å“èƒ½åŠ›åŸŸ**ï¼šLedgerã€Analytics

---

### 4.6 PnL å£å¾„ ğŸŸ  é«˜é£é™©

| é¡¹ç›® | PnL å­—æ®µ | è®¡ç®—æ–¹å¼ |
|------|----------|----------|
| old1 | `backtest_trades.pnl` | å›æµ‹æŒ‰äº¤æ˜“è®¡ç®— |
| old2 | `think_trade_positions.unrealized_pnl` | æŒä»“æµ®åŠ¨ç›ˆäº |
| old3 | `unrealized_pnl` + `realized_pnl` | åŒºåˆ†å·²å®ç°/æœªå®ç° |

**é£é™©**ï¼š
- old2 æ—  realized_pnlï¼Œå¹³ä»“åç›ˆäºå¦‚ä½•è®°å½•ä¸æ˜ç¡®
- PnL æ˜¯å¦å¯ä»æµæ°´æ¨å¯¼ä¸ç¡®å®š
- **å½±å“èƒ½åŠ›åŸŸ**ï¼šLedgerã€Analytics

---

### 4.7 timestamp æ—¶åŒº/ç²¾åº¦ ğŸŸ  é«˜é£é™©

| é¡¹ç›® | æ—¶é—´æˆ³ç±»å‹ | æ—¶åŒº |
|------|------------|------|
| old1 | `int` (UTC ç§’) | UTC |
| old2 | `int`/`bigint` | ä¸æ˜ç¡® |
| old3 | `int unsigned` | ä¸æ˜ç¡®ï¼ˆå¯èƒ½æœ¬åœ°æ—¶é—´ï¼‰ |

**é£é™©**ï¼š
- old2/old3 æ—¶åŒºä¸æ˜ç¡®
- åˆå¹¶æ•°æ®æ—¶å¯èƒ½æ—¶é—´é”™ä½
- **å½±å“èƒ½åŠ›åŸŸ**ï¼šå…¨éƒ¨

---

### 4.8 symbol è§„èŒƒ ğŸŸ  é«˜é£é™©

| é¡¹ç›® | symbol ç¤ºä¾‹ | æ ¼å¼ |
|------|-------------|------|
| old1 | `ETH/USDT:USDT` | CCXT æ ¼å¼ï¼ˆå«åˆçº¦ç±»å‹ï¼‰ |
| old2 | `GBPUSD`, `EURUSD`, `BTCUSD` | MT5 æ ¼å¼ï¼ˆæ— åˆ†éš”ç¬¦ï¼‰ |
| old3 | `BTCUSDT`, `ETHUSDT` | å¸å®‰æ ¼å¼ï¼ˆæ— åˆ†éš”ç¬¦ï¼‰ |

**é£é™©**ï¼š
- ä¸‰å¥—å‘½åè§„èŒƒå®Œå…¨ä¸åŒ
- æ— æ³•ç›´æ¥å…³è”åŒä¸€æ ‡çš„
- **å½±å“èƒ½åŠ›åŸŸ**ï¼šå…¨éƒ¨

---

### 4.9 å¤šè´¦æˆ·/å¤šç§Ÿæˆ·éš”ç¦» ğŸŸ  é«˜é£é™©

| é¡¹ç›® | è´¦æˆ·å­—æ®µ | ç§Ÿæˆ·å­—æ®µ | éš”ç¦»æ–¹å¼ |
|------|----------|----------|----------|
| old1 | æ—  | æ—  | **æ— éš”ç¦»** |
| old2 | `account_id` | æ—  | è´¦æˆ·çº§ |
| old3 | `account_id` + `member_id` | `member_id` | ä¼šå‘˜çº§ |

**é£é™©**ï¼š
- old1 æ— å¤šè´¦æˆ·æ”¯æŒ
- old2/old3 éš”ç¦»ç²’åº¦ä¸åŒï¼ˆè´¦æˆ· vs ä¼šå‘˜ï¼‰
- æ— ç»Ÿä¸€çš„ç§Ÿæˆ·æ¦‚å¿µ
- **å½±å“èƒ½åŠ›åŸŸ**ï¼šå…¨éƒ¨

---

### 4.10 æŒä»“æ–¹å‘è¡¨ç¤º ğŸŸ  é«˜é£é™©

| é¡¹ç›® | æ–¹å‘å­—æ®µ | å€¼ |
|------|----------|-----|
| old1 | æœªçŸ¥ | - |
| old2 | `side` | BUY/SELL |
| old3 | `side` + `position_side` | 1/2 + LONG/SHORT |

**é£é™©**ï¼š
- old3 æœ‰åŒå‘æŒä»“ï¼ˆLONG/SHORTï¼‰ï¼Œold2 åªæœ‰ä¹°å–æ–¹å‘
- å‡€ä»“ vs åŒå‘æŒä»“æ¨¡å¼ä¸åŒ
- **å½±å“èƒ½åŠ›åŸŸ**ï¼šPositionã€Ledger

---

### 4.11 æŒä»“æˆæœ¬å£å¾„ ğŸŸ¡ ä¸­é£é™©

**äº‹å®**ï¼š
- æ‰€æœ‰é¡¹ç›®éƒ½æœ‰ `entry_price`ï¼Œä½†è®¡ç®—å£å¾„ï¼ˆåŠ æƒå¹³å‡ vs FIFOï¼‰ä¸æ˜ç¡®
- éƒ¨åˆ†æˆäº¤/åŠ ä»“åæˆæœ¬å¦‚ä½•æ›´æ–°ä¸å¯çŸ¥

**å½±å“èƒ½åŠ›åŸŸ**ï¼šPositionã€Analytics

---

### 4.12 è®¢å•-æˆäº¤å…³è”æ–¹å¼ ğŸŸ¡ ä¸­é£é™©

| é¡¹ç›® | å…³è”æ–¹å¼ |
|------|----------|
| old1 | æ— æˆäº¤è¡¨ |
| old2 | æˆäº¤å†…åµŒåœ¨è®¢å•ï¼ˆæ— ç‹¬ç«‹ trade_idï¼‰ |
| old3 | æˆäº¤å†…åµŒåœ¨è®¢å•ï¼ˆæ— ç‹¬ç«‹ trade_idï¼‰ |

**å½±å“èƒ½åŠ›åŸŸ**ï¼šOrderTradeã€Analytics

---

## äº”ã€å®¡è®¡ç»“è®º

### 5.1 äº‹å®æ¥æºå¯ä¿¡åº¦è¯„ä¼°

| èƒ½åŠ›åŸŸ | old1 | old2 | old3 | ç»“è®º |
|--------|------|------|------|------|
| Strategy | âš ï¸ å›æµ‹ä¸“ç”¨ | âœ… å¯å‚è€ƒ | âœ… å¯å‚è€ƒ | old2/old3 å¯å¤ç”¨ |
| MarketData | âœ… Kçº¿å®Œæ•´ | âœ… Kçº¿å®Œæ•´ | âœ… Kçº¿å®Œæ•´ | å¯å¤ç”¨ï¼Œéœ€ç»Ÿä¸€ symbol |
| Signal | âœ… | âœ… | âœ… | å¯å¤ç”¨ |
| Backtest | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… å®Œæ•´ | å¯å¤ç”¨ |
| **Execution** | âŒ æ—  | âš ï¸ æ··åˆ | âš ï¸ æ··åˆ | **å¿…é¡»é‡å»º** |
| **OrderTrade** | âš ï¸ ä»…è®¢å• | âš ï¸ ä»…è®¢å• | âš ï¸ ä»…è®¢å• | **å¿…é¡»é‡å»ºï¼ˆç¼ºæˆäº¤è¡¨ï¼‰** |
| **Position** | âš ï¸ | âš ï¸ | âš ï¸ | **å¿…é¡»é‡å»ºï¼ˆæ— å†»ç»“/æˆäº¤é©±åŠ¨ä¸å¯éªŒè¯ï¼‰** |
| **Ledger** | âŒ æ—  | âŒ æ— æµæ°´ | âš ï¸ åˆ†æ•£ | **å¿…é¡»é‡å»º** |
| Analytics | âš ï¸ å›æµ‹æŒ‡æ ‡ | âš ï¸ ç­–ç•¥æŒ‡æ ‡ | âš ï¸ è´¦æˆ·ç»Ÿè®¡ | å¯å¤ç”¨ï¼Œéœ€åŸºäºæ–° Ledger é‡ç®— |

### 5.2 å¿…é¡»é‡å»ºçš„èƒ½åŠ›ï¼ˆæ— è®ºæ—§ç³»ç»ŸçŠ¶æ€å¦‚ä½•ï¼‰

| èƒ½åŠ›åŸŸ | é‡å»ºåŸå›  |
|--------|----------|
| **Execution** | ä¸‰ç³»ç»Ÿé€šé“æŠ½è±¡ä¸ä¸€è‡´ï¼Œå¹‚ç­‰/é‡è¯•æœºåˆ¶ä¸æ˜ç¡® |
| **OrderTrade** | **ä¸‰ç³»ç»Ÿå‡ç¼ºå°‘ç‹¬ç«‹æˆäº¤è¡¨**ï¼Œéƒ¨åˆ†æˆäº¤æ— æ³•è¿½æº¯ |
| **Position** | æ— å†»ç»“å­—æ®µï¼Œä¸æˆäº¤çš„è”åŠ¨ä¸å¯éªŒè¯ |
| **Ledger** | old1 æ— ã€old2 æ— æµæ°´ã€old3 åˆ†æ•£ï¼Œå‡ä¸å¯ä¿¡ |

### 5.3 æ—§ç³»ç»Ÿæ•°æ®è¿ç§»é£é™©

| é£é™©ç­‰çº§ | é£é™©ç‚¹ | å½±å“ |
|----------|--------|------|
| ğŸ”´ æé«˜ | æˆäº¤è¡¨ç¼ºå¤± | æ— æ³•éªŒè¯æŒä»“/èµ„é‡‘ä¸æˆäº¤ä¸€è‡´æ€§ |
| ğŸ”´ æé«˜ | è®¢å•çŠ¶æ€æšä¸¾ä¸å…¼å®¹ | çŠ¶æ€æœºæ˜ å°„å¯èƒ½ä¸¢å¤±è¯­ä¹‰ |
| ğŸ”´ æé«˜ | symbol è§„èŒƒä¸åŒ | è·¨ç³»ç»Ÿæ•°æ®æ— æ³•å…³è” |
| ğŸŸ  é«˜ | PnL å£å¾„ä¸ä¸€è‡´ | æ”¶ç›Šç»Ÿè®¡ä¸å¯æ¯” |
| ğŸŸ  é«˜ | æ—¶é—´æˆ³æ—¶åŒºä¸æ˜ç¡® | æ•°æ®åˆå¹¶åæ—¶é—´å¯èƒ½é”™ä½ |
| ğŸŸ¡ ä¸­ | æŒä»“æˆæœ¬å£å¾„ä¸æ˜ç¡® | æµ®ç›ˆè®¡ç®—å¯èƒ½ä¸ä¸€è‡´ |

---

*æ–‡æ¡£å½’å±ï¼šSaaS é‡åŒ–å¹³å° Blueprint Â· 04 æ—§ç³»ç»Ÿè¡¨è¯­ä¹‰æ˜ å°„ï¼ˆç›˜ç‚¹ç‰ˆï¼‰*
*å®¡è®¡æ—¥æœŸï¼š2026-02-05*
*å®¡è®¡èŒƒå›´ï¼šold1/old2/old3 SQL å¯¼å‡ºæ–‡ä»¶*
