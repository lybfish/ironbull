# IronBull v0 — Next Task Plan

## ✅ 最近完成

### Phase 6 - 策略回测系统（2026-02-05）
- ✅ 回测引擎核心（BacktestEngine）
- ✅ HTTP API 服务（/api/backtest/run）
- ✅ 演示脚本（demo_backtest.sh, test_backtest_simple.py）
- ✅ 完整文档（BACKTEST_GUIDE.md）

---

## 🎯 下一步建议

### 选项 1：真实交易执行（推荐优先级：⭐⭐⭐⭐⭐）
**目标**：连接真实交易所，实现真实下单

**任务清单**：
- [ ] Binance 现货下单接口
- [ ] Binance 合约下单接口
- [ ] MT5 下单接口（外汇/贵金属）
- [ ] 订单状态查询
- [ ] 真实成交回报处理
- [ ] 撤单/改单功能

**产出**：
- 真实可交易的量化系统
- 从 Demo 到生产的关键突破

---

### 选项 2：前端管理界面（推荐优先级：⭐⭐⭐）
**目标**：Web 界面管理策略、监控信号和订单

**任务清单**：
- [ ] 策略管理页面（创建/启停/配置）
- [ ] 信号监控页面（实时信号流）
- [ ] 订单管理页面（订单列表/成交记录）
- [ ] 持仓/资金页面（实时持仓/余额）
- [ ] 回测报告页面（可视化展示）
- [ ] Dashboard（性能监控）

**产出**：
- 用户友好的 Web 管理后台
- 多租户 SaaS 的基础界面

---

### 选项 3：回测系统增强（推荐优先级：⭐⭐）
**目标**：提升回测功能和报告质量

**任务清单**：
- [ ] 参数优化（网格搜索）
- [ ] 多策略对比回测
- [ ] 更多指标（夏普比率/索提诺比率等）
- [ ] HTML/PDF 报告生成
- [ ] 权益曲线可视化
- [ ] 滑点和成本模拟

**产出**：
- 更专业的回测报告
- 参数优化工具

---

### 选项 4：多租户基础设施（推荐优先级：⭐⭐⭐⭐）
**目标**：实现真正的 SaaS 多租户架构

**任务清单**：
- [ ] 用户认证（JWT/OAuth）
- [ ] 租户隔离（Tenant ID）
- [ ] 权限管理（RBAC）
- [ ] 资源配额（限流/限额）
- [ ] 数据库设计（PostgreSQL）
- [ ] API 网关（统一入口）

**产出**：
- 真正的 SaaS 平台基础
- 支持多用户同时使用

---

## 🎯 推荐路径

### 路径 A：快速商业化（适合尽快上线）
```
1. 真实交易执行（5-7天）
   ↓
2. 前端管理界面（7-10天）
   ↓
3. 多租户基础设施（10-15天）
```

### 路径 B：先验证后商业化（适合谨慎推进）
```
1. 回测系统增强（3-5天）
   ↓
2. 真实交易执行（5-7天）
   ↓
3. 前端管理界面（7-10天）
```

---

## 💡 建议

基于当前进度，推荐**路径 A（快速商业化）**：

1. **真实交易是核心价值**：现在所有策略都能跑，但只是"纸上谈兵"
2. **前端是用户体验**：没有界面很难推广使用
3. **多租户是商业模式**：SaaS 的本质

**预计时间线**：1-1.5 个月完成基础 MVP

---

## 📝 注意事项

### 严格约束（防返工）
- 禁止改 libs/contracts（除非必要）
- 先用最简实现跑通，再优化
- 任何新增功能必须先讨论

### 当前技术债
- v0 使用 mock 数据（data-provider）
- v0 使用内存存储（signal-hub/follow-service）
- v0 没有持久化（回测结果）
- v0 没有认证（所有 API 开放）

这些债务可以在后续迭代中逐步解决。

---

## 🎓 回顾与展望

### 已完成的核心链路
```
数据 → 策略 → 信号 → 风控 → 执行 → 回测
  ↓       ↓       ↓       ↓       ↓       ↓
 8010   8000    8001    8002    8003    8030
 DONE   DONE    DONE    DONE   MOCK    DONE
```

### 缺失的关键部分
- **真实执行**：Execution 层还是 mock
- **用户界面**：只有 API，没有前端
- **多租户**：还是单用户系统

---

**请告知您希望优先推进哪个方向，或按照推荐路径执行。**

---

**最后更新**: 2026-02-05  
**当前版本**: v0 (Backtest 已完成)
